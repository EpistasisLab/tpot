
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://epistasislab.github.io/tpot/latest/documentation/tpot/evolvers/steady_state_evolver/">
      
      
        <link rel="prev" href="../base_evolver/">
      
      
        <link rel="next" href="../../objectives/average_path_length/">
      
      
      <link rel="icon" href="../../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>Steady state evolver - TPOT</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../css/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tpot.evolvers.steady_state_evolver" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="TPOT" class="md-header__button md-logo" aria-label="TPOT" data-md-component="logo">
      
  <img src="../../../../assets/tpot-logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TPOT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Steady state evolver
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/epistasislab/tpot" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="TPOT" class="md-nav__button md-logo" aria-label="TPOT" data-md-component="logo">
      
  <img src="../../../../assets/tpot-logo.jpg" alt="logo">

    </a>
    TPOT
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/epistasislab/tpot" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../using/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using TPOT
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TPOT API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            TPOT API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tpot_api/estimator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tpot_api/classifier/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Classifier
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tpot_api/regressor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regressor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/1_Using_TPOT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What to expect from AutoML software
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/2_Search_Spaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/3_Feature_Set_Selector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Genetic Feature Selection nodes in TPOT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/4_Genetic_Feature_Selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GeneticFeatureSelectorNode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/5_GraphPipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GraphPipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/6_Symbolic_Regression_and_Classification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Symbolic Regression and Classification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/7_dask_parallelization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallelization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/8_SH_and_cv_early_pruning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Strategies for reducing computational load
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/9_Genetic_Algorithm_Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9 Genetic Algorithm Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Tutorial/amltk_search_space_parser_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amltk search space parser example
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" checked>
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    tpot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            tpot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../_version/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
     version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../graphsklearn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graphsklearn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../individual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Individual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logbook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logbook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../population/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Population
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_6" >
        
          
          <label class="md-nav__link" for="__nav_6_1_6" id="__nav_6_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    builtin_modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_6">
            <span class="md-nav__icon md-icon"></span>
            builtin_modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/arithmetictransformer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arithmetictransformer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/column_one_hot_encoder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Column one hot encoder
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/estimatortransformer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimatortransformer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/feature_encoding_frequency_selector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature encoding frequency selector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/feature_set_selector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature set selector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/feature_transformers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature transformers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/genetic_encoders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Genetic encoders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/imputer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Imputer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/nn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/passkbinsdiscretizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passkbinsdiscretizer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/passthrough/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Passthrough
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../builtin_modules/zero_count/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zero count
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_7" >
        
          
          <label class="md-nav__link" for="__nav_6_1_7" id="__nav_6_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    config
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_7">
            <span class="md-nav__icon md-icon"></span>
            config
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/autoqtl_builtins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autoqtl builtins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/classifiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Classifiers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/classifiers_sklearnex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Classifiers sklearnex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/get_configspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get configspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/imputers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Imputers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/mdr_configs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mdr configs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/regressors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regressors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/regressors_sklearnex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regressors sklearnex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/selectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/special_configs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Special configs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/template_search_spaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Template search spaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/transformers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transformers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_8" checked>
        
          
          <label class="md-nav__link" for="__nav_6_1_8" id="__nav_6_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    evolvers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_1_8">
            <span class="md-nav__icon md-icon"></span>
            evolvers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base_evolver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base evolver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Steady state evolver
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Steady state evolver
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver" class="md-nav__link">
    <span class="md-ellipsis">
      steady_state_evolver
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver" class="md-nav__link">
    <span class="md-ellipsis">
      SteadyStateEvolver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SteadyStateEvolver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver.get_unevaluated_individuals" class="md-nav__link">
    <span class="md-ellipsis">
      get_unevaluated_individuals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver.optimize" class="md-nav__link">
    <span class="md-ellipsis">
      optimize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver.ind_crossover" class="md-nav__link">
    <span class="md-ellipsis">
      ind_crossover
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tpot.evolvers.steady_state_evolver.ind_mutate" class="md-nav__link">
    <span class="md-ellipsis">
      ind_mutate
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_9" >
        
          
          <label class="md-nav__link" for="__nav_6_1_9" id="__nav_6_1_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    objectives
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_9">
            <span class="md-nav__icon md-icon"></span>
            objectives
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objectives/average_path_length/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Average path length
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objectives/complexity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complexity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objectives/number_of_leaves/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Number of leaves
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objectives/number_of_nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Number of nodes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_10" >
        
          
          <label class="md-nav__link" for="__nav_6_1_10" id="__nav_6_1_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    old_config_utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_10">
            <span class="md-nav__icon md-icon"></span>
            old_config_utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../old_config_utils/old_config_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Old config utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_11" >
        
          
          <label class="md-nav__link" for="__nav_6_1_11" id="__nav_6_1_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    search_spaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_11">
            <span class="md-nav__icon md-icon"></span>
            search_spaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/tuple_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tuple index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_11_3" >
        
          
          <label class="md-nav__link" for="__nav_6_1_11_3" id="__nav_6_1_11_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    nodes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_11_3">
            <span class="md-nav__icon md-icon"></span>
            nodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/nodes/estimator_node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimator node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/nodes/estimator_node_gradual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimator node gradual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/nodes/fss_node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fss node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/nodes/genetic_feature_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Genetic feature selection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_11_4" >
        
          
          <label class="md-nav__link" for="__nav_6_1_11_4" id="__nav_6_1_11_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    pipelines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_11_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_11_4">
            <span class="md-nav__icon md-icon"></span>
            pipelines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/choice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choice
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/dynamic_linear/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic linear
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/dynamicunion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamicunion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/sequential/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequential
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tree
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/union/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Union
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search_spaces/pipelines/wrapper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wrapper
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_12" >
        
          
          <label class="md-nav__link" for="__nav_6_1_12" id="__nav_6_1_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    selectors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_12">
            <span class="md-nav__icon md-icon"></span>
            selectors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/lexicase_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lexicase selection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/map_elites_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Map elites selection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/max_weighted_average_selector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Max weighted average selector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/nsgaii/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nsgaii
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/random_selector/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random selector
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/tournament_selection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tournament selection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selectors/tournament_selection_dominated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tournament selection dominated
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_13" >
        
          
          <label class="md-nav__link" for="__nav_6_1_13" id="__nav_6_1_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    tpot_estimator
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_13">
            <span class="md-nav__icon md-icon"></span>
            tpot_estimator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tpot_estimator/cross_val_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cross val utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tpot_estimator/estimator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tpot_estimator/estimator_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estimator utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tpot_estimator/steady_state_estimator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Steady state estimator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_13_5" >
        
          
          <label class="md-nav__link" for="__nav_6_1_13_5" id="__nav_6_1_13_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    templates
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_13_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_13_5">
            <span class="md-nav__icon md-icon"></span>
            templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tpot_estimator/templates/tpot_autoimputer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tpot autoimputer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tpot_estimator/templates/tpottemplates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tpottemplates
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_14" >
        
          
          <label class="md-nav__link" for="__nav_6_1_14" id="__nav_6_1_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_14">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/amltk_parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amltk parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/eval_utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eval utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Citing TPOT
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../related/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Related
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Steady state evolver</h1>

<div class="doc doc-object doc-module">



<a id="tpot.evolvers.steady_state_evolver"></a>
    <div class="doc doc-contents first">

        <p>This file is part of the TPOT library.</p>
<p>The current version of TPOT was developed at Cedars-Sinai by:
    - Pedro Henrique Ribeiro (https://github.com/perib, https://www.linkedin.com/in/pedro-ribeiro/)
    - Anil Saini (anil.saini@cshs.org)
    - Jose Hernandez (jgh9094@gmail.com)
    - Jay Moran (jay.moran@cshs.org)
    - Nicholas Matsumoto (nicholas.matsumoto@cshs.org)
    - Hyunjun Choi (hyunjun.choi@cshs.org)
    - Gabriel Ketron (gabriel.ketron@cshs.org)
    - Miguel E. Hernandez (miguel.e.hernandez@cshs.org)
    - Jason Moore (moorejh28@gmail.com)</p>
<p>The original version of TPOT was primarily developed at the University of Pennsylvania by:
    - Randal S. Olson (rso@randalolson.com)
    - Weixuan Fu (weixuanf@upenn.edu)
    - Daniel Angell (dpa34@drexel.edu)
    - Jason Moore (moorejh28@gmail.com)
    - and many more generous open-source contributors</p>
<p>TPOT is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as
published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.</p>
<p>TPOT is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public
License along with TPOT. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="tpot.evolvers.steady_state_evolver.SteadyStateEvolver" class="doc doc-heading">
            <code>SteadyStateEvolver</code>


<a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>tpot/evolvers/steady_state_evolver.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span>
<span class="normal"><a href="#__codelineno-0-748">748</a></span>
<span class="normal"><a href="#__codelineno-0-749">749</a></span>
<span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="k">class</span><span class="w"> </span><span class="nc">SteadyStateEvolver</span><span class="p">():</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>   <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>                    <span class="n">individual_generator</span> <span class="p">,</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                    <span class="n">objective_functions</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>                    <span class="n">objective_function_weights</span><span class="p">,</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>                    <span class="n">objective_names</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>                    <span class="n">objective_kwargs</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>                    <span class="n">bigger_is_better</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>                    <span class="n">initial_population_size</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>                    <span class="n">population_size</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>                    <span class="n">max_evaluated_individuals</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>                    <span class="n">early_stop</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>                    <span class="n">early_stop_mins</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>                    <span class="n">early_stop_tol</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>                    <span class="n">max_time_mins</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>                    <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>                    <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>                    <span class="n">memory_limit</span><span class="o">=</span><span class="s2">&quot;4GB&quot;</span><span class="p">,</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>                    <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>                    <span class="n">crossover_probability</span><span class="o">=</span><span class="mf">.2</span><span class="p">,</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>                    <span class="n">mutate_probability</span><span class="o">=</span><span class="mf">.7</span><span class="p">,</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>                    <span class="n">mutate_then_crossover_probability</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>                    <span class="n">crossover_then_mutate_probability</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>                    <span class="n">n_parents</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>                    <span class="n">survival_selector</span> <span class="o">=</span> <span class="n">survival_select_NSGA2</span><span class="p">,</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>                    <span class="n">parent_selector</span> <span class="o">=</span> <span class="n">tournament_selection_dominated</span><span class="p">,</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>                    <span class="n">budget_range</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>                    <span class="n">budget_scaling</span> <span class="o">=</span> <span class="mf">.5</span><span class="p">,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>                    <span class="n">individuals_until_end_budget</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>                    <span class="n">stepwise_steps</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>                    <span class="n">verbose</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>                    <span class="n">periodic_checkpoint_folder</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>                    <span class="n">callback</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>                    <span class="n">rng</span><span class="o">=</span><span class="kc">None</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>                    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">        Whereas the base_evolver uses a generational approach, the steady state evolver continuously generates individuals as resources become available.</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        This evolver will simultaneously evaluated n_jobs individuals. As soon as one individual is evaluated, the current population is updated with survival_selector, </span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        a new individual is generated from parents selected with parent_selector, and the new individual is immediately submitted for evaluation.</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        In contrast, the base_evolver batches evaluations in generations, and only updates the population and creates new individuals after all individuals in the current generation are evaluated.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        In practice, this means that steady state evolver is more likely to use all cores at all times, allowing for flexibility is duration of evaluations and number of evaluations. However, it </span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        may also generate less diverse populations as a result.</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">        individual_generator : generator</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">            Generator that yields new base individuals. Used to generate initial population.</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">        objective_functions : list of callables</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">            list of functions that get applied to the individual and return a float or list of floats</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">            If an objective function returns multiple values, they are all concatenated in order</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">            with respect to objective_function_weights and early_stop_tol.</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">        objective_function_weights : list of floats</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">            list of weights for each objective function. Sign flips whether bigger is better or not</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">        objective_names : list of strings, default=None</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">            Names of the objectives. If None, objective0, objective1, etc. will be used</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">        objective_kwargs : dict, default=None</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">            Dictionary of keyword arguments to pass to the objective function</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">        bigger_is_better : bool, default=True</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">            If True, the objective function is maximized. If False, the objective function is minimized. Use negative weights to reverse the direction.</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        initial_population_size : int, default=50</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">            Number of random individuals to generate in the initial population. These will all be randomly sampled, all other subsequent individuals will be generated from the population.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        population_size : int, default=50</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">            Note: This is different from the base_evolver. </span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">            In steady_state_evolver, the population_size is the number of individuals to keep in the live population. This is the total number of best individuals (as determined by survival_selector) to keep in the population.</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">            New individuals are generated from this population size.</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">            In base evolver, this is also the number of individuals to generate in each generation, however, here, we generate individuals as resources become available so there is no concept of a generation.</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">            It is recommended to use a higher population_size to ensure diversity in the population.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">        max_evaluated_individuals : int, default=None</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">            Maximum number of individuals to evaluate after which training is terminated. If None, will evaluate until time limit is reached.</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">        early_stop : int, default=None</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">            If the best individual has not improved in this many evaluations, stop training.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">            Note: Also different from base_evolver. In base evolver, this is the number of generations without improvement. Here, it is the number of individuals evaluated without improvement. Naturally, a higher value is recommended.</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">        early_stop_mins : int, default=None</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">            If the best individual has not improved in this many minutes, stop training.</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">                early_stop_tol : float, list of floats, or None, default=0.001</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">            -list of floats</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">                list of tolerances for each objective function. If the difference between the best score and the current score is less than the tolerance, the individual is considered to have converged</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">                If an index of the list is None, that item will not be used for early stopping</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">            -int</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">                If an int is given, it will be used as the tolerance for all objectives</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">        max_time_mins : float, default=float(&quot;inf&quot;)</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">            Maximum time to run the optimization. If none or inf, will run until the end of the generations.</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">        max_eval_time_mins : float, default=10</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">            Maximum time to evaluate a single individual. If none or inf, there will be no time limit per evaluation.</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">        n_jobs : int, default=1</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">            Number of processes to run in parallel.</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        memory_limit : str, default=None</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">            Memory limit for each job. See Dask [LocalCluster documentation](https://distributed.dask.org/en/stable/api.html#distributed.Client) for more information.</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        client : dask.distributed.Client, default=None</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">            A dask client to use for parallelization. If not None, this will override the n_jobs and memory_limit parameters. If None, will create a new client with num_workers=n_jobs and memory_limit=memory_limit.</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">        crossover_probability : float, default=.2</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">            Probability of generating a new individual by crossover between two individuals.</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">        mutate_probability : float, default=.7</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">            Probability of generating a new individual by crossover between one individuals.</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">        mutate_then_crossover_probability : float, default=.05</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">            Probability of generating a new individual by mutating two individuals followed by crossover.</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        crossover_then_mutate_probability : float, default=.05</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">            Probability of generating a new individual by crossover between two individuals followed by a mutation of the resulting individual.</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">        n_parents : int, default=2</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">            Number of parents to use for crossover. Must be greater than 1.</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        survival_selector : function, default=survival_select_NSGA2</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">            Function to use to select individuals for survival. Must take a matrix of scores and return selected indexes.</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">            Used to selected population_size * survival_percentage individuals at the start of each generation to use for mutation and crossover.</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">        parent_selector : function, default=parent_select_NSGA2</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">            Function to use to select pairs parents for crossover and individuals for mutation. Must take a matrix of scores and return selected indexes.     </span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">        budget_range : list [start, end], default=None</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">            This parameter is used for the successive halving algorithm.</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">            A starting and ending budget to use for the budget scaling. The evolver will interpolate between these values over the generations_until_end_budget.</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">            Use is dependent on the objective functions. (In TPOTEstimator this corresponds to the percentage of the data to sample.)</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">        budget_scaling float : [0,1], default=0.5</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a><span class="sd">            A scaling factor to use when determining how fast we move the budget from the start to end budget.</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">        evaluations_until_end_budget : int, default=1</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">            The number of evaluations to run before reaching the max budget.</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">        stepwise_steps : int, default=1</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">            The number of staircase steps to take when interpolating the budget.</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">        verbose : int, default=0</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">            How much information to print during the optimization process. Higher values include the information from lower values.</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">            0. nothing</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">            1. progress bar</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">            2. evaluations progress bar</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">            3. best individual</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">            4. warnings</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">            &gt;=5. full warnings trace</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        periodic_checkpoint_folder : str, default=None</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">            Folder to save the population to periodically. If None, no periodic saving will be done.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">            If provided, training will resume from this checkpoint.</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">        callback : tpot.CallBackInterface, default=None</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">            Callback object. Not implemented</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">        rng : Numpy.Random.Generator, None, default=None</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">            An object for reproducability of experiments. This value will be passed to numpy.random.default_rng() to create an instnce of the genrator to pass to other classes</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="sd">            - Numpy.Random.Generator</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a><span class="sd">                Will be used to create and lock in Generator instance with &#39;numpy.random.default_rng()&#39;. Note this will be the same Generator passed in.</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="sd">            - None</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a><span class="sd">                Will be used to create Generator for &#39;numpy.random.default_rng()&#39; where a fresh, unpredictable entropy will be pulled from the OS</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a><span class="sd">        Attributes</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="sd">        population : tpot.Population</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="sd">            The population of individuals.</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">            Use population.population to access the individuals in the current population.</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><span class="sd">            Use population.evaluated_individuals to access a data frame of all individuals that have been explored.</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span> <span class="o">=</span> <span class="n">max_evaluated_individuals</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">individuals_until_end_budget</span> <span class="o">=</span> <span class="n">individuals_until_end_budget</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">individual_generator</span> <span class="o">=</span> <span class="n">individual_generator</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span> <span class="o">=</span> <span class="n">population_size</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span> <span class="o">=</span> <span class="n">objective_functions</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bigger_is_better</span> <span class="o">=</span> <span class="n">bigger_is_better</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">bigger_is_better</span><span class="p">:</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span><span class="o">*-</span><span class="mi">1</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population_size_list</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span> <span class="o">=</span> <span class="n">periodic_checkpoint_folder</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span>  <span class="o">=</span> <span class="n">verbose</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span class="k">if</span> <span class="n">max_time_mins</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span> <span class="o">=</span> <span class="n">max_time_mins</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>        <span class="c1">#functools requires none for infinite time, doesn&#39;t support inf</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="k">if</span> <span class="n">max_eval_time_mins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">max_eval_time_mins</span> <span class="p">):</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="o">=</span> <span class="n">max_eval_time_mins</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span> <span class="o">=</span> <span class="n">initial_population_size</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span> <span class="o">=</span> <span class="n">budget_range</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">budget_scaling</span> <span class="o">=</span> <span class="n">budget_scaling</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stepwise_steps</span> <span class="o">=</span> <span class="n">stepwise_steps</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">memory_limit</span> <span class="o">=</span> <span class="n">memory_limit</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">survival_selector</span><span class="o">=</span><span class="n">survival_selector</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent_selector</span><span class="o">=</span><span class="n">parent_selector</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>        <span class="n">total_var_p</span> <span class="o">=</span> <span class="n">crossover_probability</span> <span class="o">+</span> <span class="n">mutate_probability</span> <span class="o">+</span> <span class="n">mutate_then_crossover_probability</span> <span class="o">+</span> <span class="n">crossover_then_mutate_probability</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crossover_probability</span> <span class="o">=</span> <span class="n">crossover_probability</span> <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mutate_probability</span> <span class="o">=</span> <span class="n">mutate_probability</span>  <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mutate_then_crossover_probability</span><span class="o">=</span> <span class="n">mutate_then_crossover_probability</span> <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">crossover_then_mutate_probability</span><span class="o">=</span> <span class="n">crossover_then_mutate_probability</span> <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_parents</span> <span class="o">=</span> <span class="n">n_parents</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="k">if</span> <span class="n">objective_kwargs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span> <span class="o">=</span> <span class="n">objective_kwargs</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="c1">###########</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span> <span class="o">=</span> <span class="n">beta_interpolation</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">n</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">generations_until_end_budget</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_scaling</span><span class="p">,</span> <span class="n">n_steps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stepwise_steps</span><span class="p">)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="k">if</span> <span class="n">objective_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;objective&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">objective_function_weights</span><span class="p">))]</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span> <span class="o">=</span> <span class="n">objective_names</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generation</span><span class="p">:</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generation</span><span class="p">]</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="o">=</span> <span class="n">early_stop_tol</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span> <span class="o">=</span> <span class="n">early_stop_mins</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span> <span class="o">=</span> <span class="n">early_stop</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span> <span class="k">if</span> <span class="n">tol</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tol</span> <span class="k">for</span> <span class="n">tol</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span><span class="p">]</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span><span class="p">,</span> <span class="s2">&quot;population.pkl&quot;</span><span class="p">)</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span><span class="p">):</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span><span class="p">)</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">):</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span class="n">init_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>            <span class="n">init_names</span> <span class="o">=</span> <span class="n">init_names</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;Budget&quot;</span><span class="p">]</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="n">tpot</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="n">init_names</span><span class="p">)</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>            <span class="n">initial_population</span> <span class="o">=</span> <span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">individual_generator</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span><span class="p">)]</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">add_to_population</span><span class="p">(</span><span class="n">initial_population</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">optimize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">        Creates an initial population and runs the evolutionary algorithm for the given number of generations. </span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">        If generations is None, will use self.generations.</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="c1">#intialize the client</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#If user passed in a client manually</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>           <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>                <span class="n">silence_logs</span> <span class="o">=</span> <span class="mi">30</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span><span class="mi">5</span><span class="p">:</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>                <span class="n">silence_logs</span> <span class="o">=</span> <span class="mi">40</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>                <span class="n">silence_logs</span> <span class="o">=</span> <span class="mi">50</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cluster</span> <span class="o">=</span> <span class="n">LocalCluster</span><span class="p">(</span><span class="n">n_workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span> <span class="c1">#if no client is passed in and no global client exists, create our own</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>                    <span class="n">threads_per_worker</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                    <span class="n">silence_logs</span><span class="o">=</span><span class="n">silence_logs</span><span class="p">,</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>                    <span class="n">processes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                    <span class="n">memory_limit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_limit</span><span class="p">)</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cluster</span><span class="p">)</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">workers</span><span class="p">)</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>        <span class="c1">#set up logging params</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>        <span class="n">evaluated_count</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>        <span class="n">generations_without_improvement</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">))])</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>        <span class="n">timestamp_of_last_improvement</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">))])</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>        <span class="n">best_scores</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">))]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>        <span class="n">scheduled_timeout_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span><span class="o">*</span><span class="mi">60</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span class="n">budget</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="n">submitted_futures</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span class="n">submitted_inds</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>                    <span class="n">pbar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span><span class="p">,</span> <span class="n">miniters</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>                    <span class="n">pbar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">miniters</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>                <span class="n">pbar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="s2">&quot;Evaluations&quot;</span><span class="p">)</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>            <span class="c1">#submit initial population</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>            <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="n">budget</span><span class="p">,)</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>            <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span><span class="p">:</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span><span class="p">:</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                    <span class="k">break</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">eval_utils</span><span class="o">.</span><span class="n">eval_objective_list</span><span class="p">,</span> <span class="n">individual</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span><span class="p">)</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="n">submitted_futures</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;individual&quot;</span><span class="p">:</span> <span class="n">individual</span><span class="p">,</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                                            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                                            <span class="s2">&quot;budget&quot;</span><span class="p">:</span> <span class="n">budget</span><span class="p">,}</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>                <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Submitted Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>            <span class="n">done</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>            <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>            <span class="n">enough_parents_evaluated</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>            <span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="c1"># Step 1: Check for finished futures</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>                <span class="c1">#wait for at least one future to finish or timeout</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">):</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                        <span class="nb">next</span><span class="p">(</span><span class="n">distributed</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="mi">60</span><span class="p">))</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>                        <span class="nb">next</span><span class="p">(</span><span class="n">distributed</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="o">*</span><span class="mi">60</span><span class="p">))</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>                <span class="k">except</span> <span class="n">dask</span><span class="o">.</span><span class="n">distributed</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">:</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                    <span class="k">pass</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                <span class="k">except</span> <span class="n">dask</span><span class="o">.</span><span class="n">distributed</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                    <span class="k">pass</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>                <span class="c1">#Loop through all futures, collect completed and timeout futures.</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>                <span class="k">for</span> <span class="n">completed_future</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">submitted_futures</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>                    <span class="n">eval_error</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>                    <span class="c1">#get scores and update</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>                    <span class="k">if</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">done</span><span class="p">():</span> <span class="c1">#if future is done</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>                        <span class="c1">#If the future is done but threw and error, record the error</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>                        <span class="k">if</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">exception</span><span class="p">()</span> <span class="ow">or</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="c1">#if the future is done and threw an error</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in future&quot;</span><span class="p">)</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">completed_future</span><span class="o">.</span><span class="n">exception</span><span class="p">())</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>                            <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>                            <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>                        <span class="k">elif</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">cancelled</span><span class="p">():</span> <span class="c1">#if the future is done and was cancelled</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cancelled future (likely memory related)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>                            <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>                            <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">)</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>                        <span class="k">else</span><span class="p">:</span> <span class="c1">#if the future is done and did not throw an error, get the scores</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>                            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>                                <span class="n">scores</span> <span class="o">=</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>                                <span class="c1">#check if scores contain &quot;INVALID&quot; or &quot;TIMEOUT&quot;</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>                                <span class="k">if</span> <span class="s2">&quot;INVALID&quot;</span> <span class="ow">in</span> <span class="n">scores</span><span class="p">:</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>                                    <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>                                    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                                <span class="k">elif</span> <span class="s2">&quot;TIMEOUT&quot;</span> <span class="ow">in</span> <span class="n">scores</span><span class="p">:</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>                                    <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;TIMEOUT&quot;</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>                                    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>                            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in future, but not caught by dask&quot;</span><span class="p">)</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>                                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>                                <span class="nb">print</span><span class="p">(</span><span class="n">completed_future</span><span class="o">.</span><span class="n">exception</span><span class="p">())</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>                                <span class="nb">print</span><span class="p">(</span><span class="n">completed_future</span><span class="p">)</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;done&quot;</span><span class="p">,</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">done</span><span class="p">())</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cancelld &quot;</span><span class="p">,</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">cancelled</span><span class="p">())</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>                                <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>                                <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>                        <span class="n">completed_future</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1">#release the future</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>                    <span class="k">else</span><span class="p">:</span> <span class="c1">#if future is not done</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>                        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">)):</span> <span class="c1">#if max_eval_time_mins is set to a value</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>                            <span class="c1">#check if the future has been running for too long, cancel the future</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>                            <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="o">*</span><span class="mf">1.25</span><span class="o">*</span><span class="mi">60</span><span class="p">:</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>                                <span class="n">completed_future</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>                                <span class="n">completed_future</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1">#release the future</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>                                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>                                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING AN INDIVIDUAL TIMED OUT (Fallback): </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">]</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>                                <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>                                <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;TIMEOUT&quot;</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>                            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>                                <span class="k">continue</span> <span class="c1">#otherwise, continue to next future</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>                        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>                            <span class="c1">#this future is not done and we don&#39;t have a time limit so let it keep goooooiiiinnnggggg</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>                            <span class="c1">#there must be another future that did complete</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>                            <span class="k">continue</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>                    <span class="c1">#update population</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>                    <span class="n">this_individual</span> <span class="o">=</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;individual&quot;</span><span class="p">]</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>                    <span class="n">this_budget</span> <span class="o">=</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;budget&quot;</span><span class="p">]</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>                    <span class="n">this_time</span> <span class="o">=</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">):</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>                        <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">scores</span><span class="p">)</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Completed Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">eval_error</span><span class="p">)</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>                    <span class="k">if</span> <span class="n">budget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Budget&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">this_budget</span><span class="p">)</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>                    <span class="n">submitted_futures</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">completed_future</span><span class="p">)</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>                    <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>                        <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>                <span class="c1">#now we have a list of completed futures</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;INVALID&quot;</span><span class="p">)</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">)</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>                <span class="c1">#I am not entirely sure if this is necessary. I believe that calling release on the futures should be enough to free up memory. If memory issues persist, this may be a good place to start.</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>                <span class="c1">#client.run(gc.collect) #run garbage collection to free up memory</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>                <span class="c1"># Step 2: Early Stopping</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>                    <span class="n">sign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>                    <span class="n">valid_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[</span><span class="o">~</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[[</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span><span class="s2">&quot;INVALID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)][</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">*</span><span class="n">sign</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>                    <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">valid_df</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="n">sign</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>                    <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">cur_best_scores</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">):</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best </span><span class="si">{</span><span class="n">obj</span><span class="si">}</span><span class="s2"> score: </span><span class="si">{</span><span class="n">cur_best_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="p">:</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget</span><span class="o">&gt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span> <span class="c1">#self.budget&gt;=1:</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>                        <span class="c1">#get sign of objective_function_weights</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>                        <span class="n">sign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>                        <span class="c1">#get best score for each objective</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>                        <span class="n">valid_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[</span><span class="o">~</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[[</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span><span class="s2">&quot;INVALID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)][</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">*</span><span class="n">sign</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>                        <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">valid_df</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>                        <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">cur_best_scores</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>                        <span class="c1">#cur_best_scores =  self.population.get_column(self.population.population, column_names=self.objective_names).max(axis=0)*sign #TODO this assumes the current population is the best</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>                        <span class="n">improved</span> <span class="o">=</span> <span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cur_best_scores</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">best_scores</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span><span class="p">)</span> <span class="p">)</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>                        <span class="n">not_improved</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_not</span><span class="p">(</span><span class="n">improved</span><span class="p">)</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>                        <span class="n">generations_without_improvement</span> <span class="o">=</span> <span class="n">generations_without_improvement</span> <span class="o">*</span> <span class="n">not_improved</span> <span class="o">+</span> <span class="n">not_improved</span> <span class="c1">#set to zero if not improved, else increment</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>                        <span class="n">timestamp_of_last_improvement</span> <span class="o">=</span> <span class="n">timestamp_of_last_improvement</span> <span class="o">*</span> <span class="n">not_improved</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">*</span><span class="n">improved</span> <span class="c1">#set to current time if improved</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>                        <span class="k">pass</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>                        <span class="c1">#update best score</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>                        <span class="n">best_scores</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">best_scores</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cur_best_scores</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span><span class="p">:</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>                            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">generations_without_improvement</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span><span class="p">):</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>                                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>                                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Early stop (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span><span class="si">}</span><span class="s2"> individuals evaluated without improvement)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>                                <span class="k">break</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="p">:</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>                            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">timestamp_of_last_improvement</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="o">*</span><span class="mi">60</span><span class="p">):</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>                                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>                                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Early stop  (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="si">}</span><span class="s2"> seconds passed without improvement)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>                                <span class="k">break</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>                <span class="c1">#if we evaluated enough individuals or time is up, stop</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span><span class="o">*</span><span class="mi">60</span><span class="p">:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time limit reached&quot;</span><span class="p">)</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>                    <span class="n">done</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>                    <span class="k">break</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span><span class="p">:</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Evaluated enough individuals&quot;</span><span class="p">)</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>                    <span class="n">done</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>                    <span class="k">break</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>                <span class="c1"># Step 3: Submit unevaluated individuals from the initial population</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>                <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="n">budget</span><span class="p">,)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>                <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ind</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span> <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">unique_id</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">submitted_inds</span><span class="p">]</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>                <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span><span class="p">:</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">):</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>                        <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">eval_utils</span><span class="o">.</span><span class="n">eval_objective_list</span><span class="p">,</span> <span class="n">individual</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span><span class="p">)</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>                        <span class="n">submitted_futures</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;individual&quot;</span><span class="p">:</span> <span class="n">individual</span><span class="p">,</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>                                                    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>                                                    <span class="s2">&quot;budget&quot;</span><span class="p">:</span> <span class="n">budget</span><span class="p">,}</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>                        <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Submitted Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>                <span class="c1"># Step 4: Survival Selection</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">survival_selector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>                    <span class="n">parents_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">],</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>                    <span class="n">evaluated</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="o">~</span><span class="n">parents_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">evaluated</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">:</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>                        <span class="n">unevaluated</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="n">parents_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>                        <span class="n">cur_evaluated_population</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cur_evaluated_population</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">:</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>                            <span class="n">scores</span> <span class="o">=</span> <span class="n">evaluated</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>                            <span class="n">weighted_scores</span> <span class="o">=</span> <span class="n">scores</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>                            <span class="n">new_population_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">survival_selector</span><span class="p">(</span><span class="n">weighted_scores</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">))</span> <span class="c1">#TODO make it clear that we are concatenating scores...</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>                            <span class="c1">#set new population</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>                            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>                                <span class="n">cur_evaluated_population</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cur_evaluated_population</span><span class="p">)[</span><span class="n">new_population_index</span><span class="p">]</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>                                <span class="n">cur_evaluated_population</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">cur_evaluated_population</span><span class="p">,</span> <span class="n">unevaluated</span><span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()])</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>                                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">set_population</span><span class="p">(</span><span class="n">cur_evaluated_population</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>                            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in survival selection&quot;</span><span class="p">)</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>                                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;new_population_index&quot;</span><span class="p">,</span> <span class="n">new_population_index</span><span class="p">)</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cur_evaluated_population&quot;</span><span class="p">,</span> <span class="n">cur_evaluated_population</span><span class="p">)</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;unevaluated&quot;</span><span class="p">,</span> <span class="n">unevaluated</span><span class="p">)</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;evaluated&quot;</span><span class="p">,</span> <span class="n">evaluated</span><span class="p">)</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;scores&quot;</span><span class="p">,</span> <span class="n">scores</span><span class="p">)</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;weighted_scores&quot;</span><span class="p">,</span> <span class="n">weighted_scores</span><span class="p">)</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;self.objective_function_weights&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;self.population_size&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">)</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>                                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;parents_df&quot;</span><span class="p">,</span> <span class="n">parents_df</span><span class="p">)</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>                <span class="c1"># Step 5: Parent Selection and Variation</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>                <span class="n">n_individuals_to_submit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>                <span class="k">if</span> <span class="n">n_individuals_to_submit</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>                    <span class="c1">#count non-nan values in the objective columns</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>                    <span class="k">if</span> <span class="ow">not</span> <span class="n">enough_parents_evaluated</span><span class="p">:</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>                        <span class="n">parents_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>                        <span class="n">scores</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>                        <span class="c1">#count non-nan values in the objective columns</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>                        <span class="n">n_evaluated</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>                        <span class="k">if</span> <span class="n">n_evaluated</span> <span class="o">&gt;</span><span class="mi">0</span> <span class="p">:</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>                            <span class="n">enough_parents_evaluated</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>                    <span class="c1"># parents_df = self.population.get_column(self.population.population, column_names=self.objective_names+ [&quot;Individual&quot;], to_numpy=False)</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>                    <span class="c1"># parents_df = parents_df[~parents_df[self.objective_names].isin([&quot;TIMEOUT&quot;,&quot;INVALID&quot;]).any(axis=1)]</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>                    <span class="c1"># parents_df = parents_df[~parents_df[self.objective_names].isna().any(axis=1)]</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>                    <span class="c1"># cur_evaluated_population = parents_df[&quot;Individual&quot;].to_numpy()</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>                    <span class="c1"># if len(cur_evaluated_population) &gt; 0:</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>                    <span class="c1">#     scores = parents_df[self.objective_names].to_numpy()</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a>                    <span class="c1">#     weighted_scores = scores * self.objective_function_weights</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>                    <span class="c1">#     #number of crossover pairs and mutation only parent to generate</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>                    <span class="c1">#     if len(parents_df) &lt; 2:</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a>                    <span class="c1">#         var_ops = [&quot;mutate&quot; for _ in range(n_individuals_to_submit)]</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>                    <span class="c1">#     else:</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>                    <span class="c1">#         var_ops = [self.rng.choice([&quot;crossover&quot;,&quot;mutate_then_crossover&quot;,&quot;crossover_then_mutate&quot;,&#39;mutate&#39;],p=[self.crossover_probability,self.mutate_then_crossover_probability, self.crossover_then_mutate_probability,self.mutate_probability]) for _ in range(n_individuals_to_submit)]</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>                    <span class="c1">#     parents = []</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>                    <span class="c1">#     for op in var_ops:</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>                    <span class="c1">#         if op == &quot;mutate&quot;:</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>                    <span class="c1">#             parents.extend(np.array(cur_evaluated_population)[self.parent_selector(weighted_scores, k=1, n_parents=1, rng=self.rng)])</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>                    <span class="c1">#         else:</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>                    <span class="c1">#             parents.extend(np.array(cur_evaluated_population)[self.parent_selector(weighted_scores, k=1, n_parents=2, rng=self.rng)])</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>                    <span class="c1">#     #_offspring = self.population.create_offspring2(parents, var_ops, rng=self.rng, add_to_population=True)</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>                    <span class="c1">#     offspring = self.population.create_offspring2(parents, var_ops, [ind_mutate], None, [ind_crossover], None, add_to_population=True, keep_repeats=False, mutate_until_unique=True, rng=self.rng)</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>                    <span class="k">if</span> <span class="n">enough_parents_evaluated</span><span class="p">:</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>                        <span class="n">parents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">parent_select</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_selector</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">,</span> <span class="n">columns_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">n_individuals_to_submit</span><span class="p">,</span> <span class="n">n_parents</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>                        <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">crossover_probability</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate_then_crossover_probability</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">crossover_then_mutate_probability</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate_probability</span><span class="p">])</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>                        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="n">p</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>                        <span class="n">var_op_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;crossover&quot;</span><span class="p">,</span> <span class="s2">&quot;mutate_then_crossover&quot;</span><span class="p">,</span> <span class="s2">&quot;crossover_then_mutate&quot;</span><span class="p">,</span> <span class="s2">&quot;mutate&quot;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">n_individuals_to_submit</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>                        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">var_op_list</span><span class="p">):</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>                            <span class="k">if</span> <span class="n">op</span> <span class="o">==</span> <span class="s2">&quot;mutate&quot;</span><span class="p">:</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>                                <span class="n">parents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">parents</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#mutations take a single individual</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>                        <span class="n">offspring</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">create_offspring2</span><span class="p">(</span><span class="n">parents</span><span class="p">,</span> <span class="n">var_op_list</span><span class="p">,</span> <span class="p">[</span><span class="n">ind_mutate</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">ind_crossover</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="n">add_to_population</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_repeats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mutate_until_unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>                    <span class="c1"># If we don&#39;t have enough evaluated individuals to use as parents for variation, we create new individuals randomly</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>                    <span class="c1"># This can happen if the individuals in the initial population are invalid</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>                    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span><span class="p">:</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>                        <span class="n">initial_population</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span><span class="o">*</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>                        <span class="n">invalid_initial_population</span> <span class="o">=</span> <span class="n">initial_population</span><span class="p">[</span><span class="n">initial_population</span><span class="p">[[</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span><span class="s2">&quot;INVALID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">invalid_initial_population</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span><span class="o">*</span><span class="mi">3</span><span class="p">:</span> <span class="c1">#if all individuals in the 3*initial population are invalid</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No individuals could be evaluated in the initial population. This may indicate a bug in the configuration, included models, or objective functions. Set verbose&gt;=4 to see the errors that caused individuals to fail.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>                        <span class="n">n_individuals_to_create</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>                        <span class="n">initial_population</span> <span class="o">=</span> <span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">individual_generator</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_individuals_to_create</span><span class="p">)]</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">add_to_population</span><span class="p">(</span><span class="n">initial_population</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a>                <span class="c1"># Step 6: Add Unevaluated Individuals Generated by Variation</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a>                <span class="c1">###############################</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>                <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="n">budget</span><span class="p">,)</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>                <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ind</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span> <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">unique_id</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">submitted_inds</span><span class="p">]</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>                <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span><span class="p">:</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">):</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>                        <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">eval_utils</span><span class="o">.</span><span class="n">eval_objective_list</span><span class="p">,</span> <span class="n">individual</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span><span class="p">)</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>                        <span class="n">submitted_futures</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;individual&quot;</span><span class="p">:</span> <span class="n">individual</span><span class="p">,</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>                                                    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>                                                    <span class="s2">&quot;budget&quot;</span><span class="p">:</span> <span class="n">budget</span><span class="p">,}</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>                        <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Submitted Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>                <span class="c1">#Checkpointing</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># and time.time() - last_save_time &gt; 60*10:</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>                    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">))</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;KeyboardInterrupt&quot;</span><span class="p">)</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a>        <span class="c1">###############################</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>        <span class="c1"># Step 7: Cleanup</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a>        <span class="c1">###############################</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;INVALID&quot;</span><span class="p">)</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">)</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>        <span class="c1">#done, cleanup futures</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>        <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">submitted_futures</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>            <span class="n">future</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>            <span class="n">future</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1">#release the future</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>        <span class="c1">#I am not entirely sure if this is necessary. I believe that calling release on the futures should be enough to free up memory. If memory issues persist, this may be a good place to start.</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>        <span class="c1">#client.run(gc.collect) #run garbage collection to free up memory</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>        <span class="c1">#checkpoint</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">))</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#If we created our own client, close it</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_cluster</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>        <span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">get_pareto_frontier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-748" name="__codelineno-0-748"></a>
<a id="__codelineno-0-749" name="__codelineno-0-749"></a>
<a id="__codelineno-0-750" name="__codelineno-0-750"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">individual_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a><span class="sd">        This function is used to get a list of individuals in the current population that have not been evaluated yet.</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">        Parameters</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a><span class="sd">        ----------</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="sd">        column_names : list of strings</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="sd">            Names of the columns to check for unevaluated individuals (generally objective functions).</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><span class="sd">        budget : float, default=None</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">            Budget to use when checking for unevaluated individuals. If None, will not check the budget column.</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">            Finds individuals who have not been evaluated with the given budget on column names.</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">        individual_list : list of individuals, default=None</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="sd">            List of individuals to check for unevaluated individuals. If None, will use the current population.</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>        <span class="k">if</span> <span class="n">individual_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>            <span class="n">cur_pop</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">individual_list</span><span class="p">)</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>            <span class="n">cur_pop</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">population</span><span class="p">)</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a>        <span class="k">if</span> <span class="nb">all</span><span class="p">([</span><span class="n">name_step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="o">.</span><span class="n">columns</span> <span class="k">for</span> <span class="n">name_step</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">]):</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>            <span class="k">if</span> <span class="n">budget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a>                <span class="n">offspring_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="n">cur_pop</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="n">column_names</span><span class="o">+</span><span class="p">[</span><span class="s2">&quot;Budget&quot;</span><span class="p">],</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>                <span class="c1">#Individuals are unevaluated if we have a higher budget OR if any of the objectives are nan</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>                <span class="n">unevaluated_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">(</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="s2">&quot;Budget&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">budget</span><span class="p">)</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>                <span class="n">offspring_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="n">cur_pop</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="n">column_names</span><span class="p">,</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>                <span class="n">unevaluated_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">(</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">())</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>            <span class="n">unevaluated_individuals_this_step</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cur_pop</span><span class="p">))</span> <span class="k">if</span> <span class="n">unevaluated_filter</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>            <span class="k">return</span> <span class="n">cur_pop</span><span class="p">[</span><span class="n">unevaluated_individuals_this_step</span><span class="p">]</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>        <span class="k">else</span><span class="p">:</span> <span class="c1">#if column names are not in the evaluated_individuals, then we have not evaluated any individuals yet</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>            <span class="k">for</span> <span class="n">name_step</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">:</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[</span><span class="n">name_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>            <span class="k">return</span> <span class="n">cur_pop</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tpot.evolvers.steady_state_evolver.SteadyStateEvolver.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">individual_generator</span><span class="p">,</span> <span class="n">objective_functions</span><span class="p">,</span> <span class="n">objective_function_weights</span><span class="p">,</span> <span class="n">objective_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">objective_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bigger_is_better</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">initial_population_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">population_size</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">max_evaluated_individuals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">early_stop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">early_stop_mins</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">early_stop_tol</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">max_time_mins</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">memory_limit</span><span class="o">=</span><span class="s1">&#39;4GB&#39;</span><span class="p">,</span> <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">crossover_probability</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">mutate_probability</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">mutate_then_crossover_probability</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">crossover_then_mutate_probability</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">n_parents</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">survival_selector</span><span class="o">=</span><span class="n">survival_select_NSGA2</span><span class="p">,</span> <span class="n">parent_selector</span><span class="o">=</span><span class="n">tournament_selection_dominated</span><span class="p">,</span> <span class="n">budget_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">budget_scaling</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">individuals_until_end_budget</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stepwise_steps</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">periodic_checkpoint_folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Whereas the base_evolver uses a generational approach, the steady state evolver continuously generates individuals as resources become available.</p>
<p>This evolver will simultaneously evaluated n_jobs individuals. As soon as one individual is evaluated, the current population is updated with survival_selector, 
a new individual is generated from parents selected with parent_selector, and the new individual is immediately submitted for evaluation.
In contrast, the base_evolver batches evaluations in generations, and only updates the population and creates new individuals after all individuals in the current generation are evaluated.</p>
<p>In practice, this means that steady state evolver is more likely to use all cores at all times, allowing for flexibility is duration of evaluations and number of evaluations. However, it 
may also generate less diverse populations as a result.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>individual_generator</code></td>
            <td>
                  <code><span title="generator">generator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Generator that yields new base individuals. Used to generate initial population.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>objective_functions</code></td>
            <td>
                  <code>list of callables</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of functions that get applied to the individual and return a float or list of floats
If an objective function returns multiple values, they are all concatenated in order
with respect to objective_function_weights and early_stop_tol.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>objective_function_weights</code></td>
            <td>
                  <code>list of floats</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of weights for each objective function. Sign flips whether bigger is better or not</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>objective_names</code></td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the objectives. If None, objective0, objective1, etc. will be used</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>objective_kwargs</code></td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of keyword arguments to pass to the objective function</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bigger_is_better</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the objective function is maximized. If False, the objective function is minimized. Use negative weights to reverse the direction.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>initial_population_size</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of random individuals to generate in the initial population. These will all be randomly sampled, all other subsequent individuals will be generated from the population.</p>
              </div>
            </td>
            <td>
                  <code>50</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>population_size</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Note: This is different from the base_evolver. 
In steady_state_evolver, the population_size is the number of individuals to keep in the live population. This is the total number of best individuals (as determined by survival_selector) to keep in the population.
New individuals are generated from this population size.
In base evolver, this is also the number of individuals to generate in each generation, however, here, we generate individuals as resources become available so there is no concept of a generation.
It is recommended to use a higher population_size to ensure diversity in the population.</p>
              </div>
            </td>
            <td>
                  <code>50</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>max_evaluated_individuals</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of individuals to evaluate after which training is terminated. If None, will evaluate until time limit is reached.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>early_stop</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the best individual has not improved in this many evaluations, stop training.
Note: Also different from base_evolver. In base evolver, this is the number of generations without improvement. Here, it is the number of individuals evaluated without improvement. Naturally, a higher value is recommended.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>early_stop_mins</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the best individual has not improved in this many minutes, stop training.
    early_stop_tol : float, list of floats, or None, default=0.001
-list of floats
    list of tolerances for each objective function. If the difference between the best score and the current score is less than the tolerance, the individual is considered to have converged
    If an index of the list is None, that item will not be used for early stopping
-int
    If an int is given, it will be used as the tolerance for all objectives</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>max_time_mins</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time to run the optimization. If none or inf, will run until the end of the generations.</p>
              </div>
            </td>
            <td>
                  <code>float(&#34;inf&#34;)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>max_eval_time_mins</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum time to evaluate a single individual. If none or inf, there will be no time limit per evaluation.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of processes to run in parallel.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>memory_limit</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Memory limit for each job. See Dask <a href="https://distributed.dask.org/en/stable/api.html#distributed.Client">LocalCluster documentation</a> for more information.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>client</code></td>
            <td>
                  <code><span title="dask.distributed.Client">Client</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dask client to use for parallelization. If not None, this will override the n_jobs and memory_limit parameters. If None, will create a new client with num_workers=n_jobs and memory_limit=memory_limit.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>crossover_probability</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Probability of generating a new individual by crossover between two individuals.</p>
              </div>
            </td>
            <td>
                  <code>.2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>mutate_probability</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Probability of generating a new individual by crossover between one individuals.</p>
              </div>
            </td>
            <td>
                  <code>.7</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>mutate_then_crossover_probability</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Probability of generating a new individual by mutating two individuals followed by crossover.</p>
              </div>
            </td>
            <td>
                  <code>.05</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>crossover_then_mutate_probability</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Probability of generating a new individual by crossover between two individuals followed by a mutation of the resulting individual.</p>
              </div>
            </td>
            <td>
                  <code>.05</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_parents</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of parents to use for crossover. Must be greater than 1.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>survival_selector</code></td>
            <td>
                  <code><span title="function">function</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function to use to select individuals for survival. Must take a matrix of scores and return selected indexes.
Used to selected population_size * survival_percentage individuals at the start of each generation to use for mutation and crossover.</p>
              </div>
            </td>
            <td>
                  <code>survival_select_NSGA2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent_selector</code></td>
            <td>
                  <code><span title="function">function</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function to use to select pairs parents for crossover and individuals for mutation. Must take a matrix of scores and return selected indexes.</p>
              </div>
            </td>
            <td>
                  <code>parent_select_NSGA2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>budget_range</code></td>
            <td>
                  <code><span title="list">list</span>[<span title="start">start</span>, <span title="end">end</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>This parameter is used for the successive halving algorithm.
A starting and ending budget to use for the budget scaling. The evolver will interpolate between these values over the generations_until_end_budget.
Use is dependent on the objective functions. (In TPOTEstimator this corresponds to the percentage of the data to sample.)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>budget_scaling</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A scaling factor to use when determining how fast we move the budget from the start to end budget.</p>
              </div>
            </td>
            <td>
                  <code>0.5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>evaluations_until_end_budget</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of evaluations to run before reaching the max budget.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stepwise_steps</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of staircase steps to take when interpolating the budget.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How much information to print during the optimization process. Higher values include the information from lower values.
0. nothing
1. progress bar
2. evaluations progress bar
3. best individual
4. warnings</p>
<blockquote>
<p>=5. full warnings trace</p>
</blockquote>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>periodic_checkpoint_folder</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Folder to save the population to periodically. If None, no periodic saving will be done.
If provided, training will resume from this checkpoint.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>callback</code></td>
            <td>
                  <code><span title="tpot.CallBackInterface">CallBackInterface</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Callback object. Not implemented</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rng</code></td>
            <td>
                  <code>(<span title="Numpy.Random.Generator">Generator</span>, None)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An object for reproducability of experiments. This value will be passed to numpy.random.default_rng() to create an instnce of the genrator to pass to other classes</p>
<ul>
<li>Numpy.Random.Generator
    Will be used to create and lock in Generator instance with 'numpy.random.default_rng()'. Note this will be the same Generator passed in.</li>
<li>None
    Will be used to create Generator for 'numpy.random.default_rng()' where a fresh, unpredictable entropy will be pulled from the OS</li>
</ul>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="tpot.evolvers.steady_state_evolver.SteadyStateEvolver.__init__.population">population</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="tpot.Population" href="../../population/#tpot.population.Population">Population</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The population of individuals.
Use population.population to access the individuals in the current population.
Use population.evaluated_individuals to access a data frame of all individuals that have been explored.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tpot/evolvers/steady_state_evolver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>   <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>                <span class="n">individual_generator</span> <span class="p">,</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                <span class="n">objective_functions</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>                <span class="n">objective_function_weights</span><span class="p">,</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>                <span class="n">objective_names</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>                <span class="n">objective_kwargs</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>                <span class="n">bigger_is_better</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>                <span class="n">initial_population_size</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>                <span class="n">population_size</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>                <span class="n">max_evaluated_individuals</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>                <span class="n">early_stop</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>                <span class="n">early_stop_mins</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>                <span class="n">early_stop_tol</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>                <span class="n">max_time_mins</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>                <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>                <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>                <span class="n">memory_limit</span><span class="o">=</span><span class="s2">&quot;4GB&quot;</span><span class="p">,</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>                <span class="n">client</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>                <span class="n">crossover_probability</span><span class="o">=</span><span class="mf">.2</span><span class="p">,</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>                <span class="n">mutate_probability</span><span class="o">=</span><span class="mf">.7</span><span class="p">,</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>                <span class="n">mutate_then_crossover_probability</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>                <span class="n">crossover_then_mutate_probability</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>                <span class="n">n_parents</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>                <span class="n">survival_selector</span> <span class="o">=</span> <span class="n">survival_select_NSGA2</span><span class="p">,</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>                <span class="n">parent_selector</span> <span class="o">=</span> <span class="n">tournament_selection_dominated</span><span class="p">,</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>                <span class="n">budget_range</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>                <span class="n">budget_scaling</span> <span class="o">=</span> <span class="mf">.5</span><span class="p">,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>                <span class="n">individuals_until_end_budget</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>                <span class="n">stepwise_steps</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>                <span class="n">verbose</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>                <span class="n">periodic_checkpoint_folder</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>                <span class="n">callback</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>                <span class="n">rng</span><span class="o">=</span><span class="kc">None</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">    Whereas the base_evolver uses a generational approach, the steady state evolver continuously generates individuals as resources become available.</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    This evolver will simultaneously evaluated n_jobs individuals. As soon as one individual is evaluated, the current population is updated with survival_selector, </span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">    a new individual is generated from parents selected with parent_selector, and the new individual is immediately submitted for evaluation.</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    In contrast, the base_evolver batches evaluations in generations, and only updates the population and creates new individuals after all individuals in the current generation are evaluated.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    In practice, this means that steady state evolver is more likely to use all cores at all times, allowing for flexibility is duration of evaluations and number of evaluations. However, it </span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">    may also generate less diverse populations as a result.</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a><span class="sd">    individual_generator : generator</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a><span class="sd">        Generator that yields new base individuals. Used to generate initial population.</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a><span class="sd">    objective_functions : list of callables</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a><span class="sd">        list of functions that get applied to the individual and return a float or list of floats</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="sd">        If an objective function returns multiple values, they are all concatenated in order</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="sd">        with respect to objective_function_weights and early_stop_tol.</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="sd">    objective_function_weights : list of floats</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">        list of weights for each objective function. Sign flips whether bigger is better or not</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">    objective_names : list of strings, default=None</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">        Names of the objectives. If None, objective0, objective1, etc. will be used</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">    objective_kwargs : dict, default=None</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">        Dictionary of keyword arguments to pass to the objective function</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">    bigger_is_better : bool, default=True</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">        If True, the objective function is maximized. If False, the objective function is minimized. Use negative weights to reverse the direction.</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    initial_population_size : int, default=50</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        Number of random individuals to generate in the initial population. These will all be randomly sampled, all other subsequent individuals will be generated from the population.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    population_size : int, default=50</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        Note: This is different from the base_evolver. </span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">        In steady_state_evolver, the population_size is the number of individuals to keep in the live population. This is the total number of best individuals (as determined by survival_selector) to keep in the population.</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">        New individuals are generated from this population size.</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">        In base evolver, this is also the number of individuals to generate in each generation, however, here, we generate individuals as resources become available so there is no concept of a generation.</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">        It is recommended to use a higher population_size to ensure diversity in the population.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">    max_evaluated_individuals : int, default=None</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">        Maximum number of individuals to evaluate after which training is terminated. If None, will evaluate until time limit is reached.</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">    early_stop : int, default=None</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        If the best individual has not improved in this many evaluations, stop training.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">        Note: Also different from base_evolver. In base evolver, this is the number of generations without improvement. Here, it is the number of individuals evaluated without improvement. Naturally, a higher value is recommended.</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">    early_stop_mins : int, default=None</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">        If the best individual has not improved in this many minutes, stop training.</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">            early_stop_tol : float, list of floats, or None, default=0.001</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a><span class="sd">        -list of floats</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">            list of tolerances for each objective function. If the difference between the best score and the current score is less than the tolerance, the individual is considered to have converged</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">            If an index of the list is None, that item will not be used for early stopping</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        -int</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">            If an int is given, it will be used as the tolerance for all objectives</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">    max_time_mins : float, default=float(&quot;inf&quot;)</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="sd">        Maximum time to run the optimization. If none or inf, will run until the end of the generations.</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">    max_eval_time_mins : float, default=10</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">        Maximum time to evaluate a single individual. If none or inf, there will be no time limit per evaluation.</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">    n_jobs : int, default=1</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">        Number of processes to run in parallel.</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">    memory_limit : str, default=None</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        Memory limit for each job. See Dask [LocalCluster documentation](https://distributed.dask.org/en/stable/api.html#distributed.Client) for more information.</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">    client : dask.distributed.Client, default=None</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        A dask client to use for parallelization. If not None, this will override the n_jobs and memory_limit parameters. If None, will create a new client with num_workers=n_jobs and memory_limit=memory_limit.</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">    crossover_probability : float, default=.2</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        Probability of generating a new individual by crossover between two individuals.</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">    mutate_probability : float, default=.7</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">        Probability of generating a new individual by crossover between one individuals.</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">    mutate_then_crossover_probability : float, default=.05</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">        Probability of generating a new individual by mutating two individuals followed by crossover.</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">    crossover_then_mutate_probability : float, default=.05</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">        Probability of generating a new individual by crossover between two individuals followed by a mutation of the resulting individual.</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">    n_parents : int, default=2</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">        Number of parents to use for crossover. Must be greater than 1.</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">    survival_selector : function, default=survival_select_NSGA2</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        Function to use to select individuals for survival. Must take a matrix of scores and return selected indexes.</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">        Used to selected population_size * survival_percentage individuals at the start of each generation to use for mutation and crossover.</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">    parent_selector : function, default=parent_select_NSGA2</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">        Function to use to select pairs parents for crossover and individuals for mutation. Must take a matrix of scores and return selected indexes.     </span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a><span class="sd">    budget_range : list [start, end], default=None</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a><span class="sd">        This parameter is used for the successive halving algorithm.</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a><span class="sd">        A starting and ending budget to use for the budget scaling. The evolver will interpolate between these values over the generations_until_end_budget.</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a><span class="sd">        Use is dependent on the objective functions. (In TPOTEstimator this corresponds to the percentage of the data to sample.)</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a><span class="sd">    budget_scaling float : [0,1], default=0.5</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a><span class="sd">        A scaling factor to use when determining how fast we move the budget from the start to end budget.</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="sd">    evaluations_until_end_budget : int, default=1</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="sd">        The number of evaluations to run before reaching the max budget.</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="sd">    stepwise_steps : int, default=1</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">        The number of staircase steps to take when interpolating the budget.</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a><span class="sd">    verbose : int, default=0</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">        How much information to print during the optimization process. Higher values include the information from lower values.</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">        0. nothing</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        1. progress bar</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">        2. evaluations progress bar</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">        3. best individual</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">        4. warnings</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        &gt;=5. full warnings trace</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">    periodic_checkpoint_folder : str, default=None</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">        Folder to save the population to periodically. If None, no periodic saving will be done.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">        If provided, training will resume from this checkpoint.</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">    callback : tpot.CallBackInterface, default=None</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">        Callback object. Not implemented</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">    rng : Numpy.Random.Generator, None, default=None</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">        An object for reproducability of experiments. This value will be passed to numpy.random.default_rng() to create an instnce of the genrator to pass to other classes</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="sd">        - Numpy.Random.Generator</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a><span class="sd">            Will be used to create and lock in Generator instance with &#39;numpy.random.default_rng()&#39;. Note this will be the same Generator passed in.</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="sd">        - None</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a><span class="sd">            Will be used to create Generator for &#39;numpy.random.default_rng()&#39; where a fresh, unpredictable entropy will be pulled from the OS</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a><span class="sd">    Attributes</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="sd">    population : tpot.Population</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="sd">        The population of individuals.</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">        Use population.population to access the individuals in the current population.</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><span class="sd">        Use population.evaluated_individuals to access a data frame of all individuals that have been explored.</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span> <span class="o">=</span> <span class="n">max_evaluated_individuals</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">individuals_until_end_budget</span> <span class="o">=</span> <span class="n">individuals_until_end_budget</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">individual_generator</span> <span class="o">=</span> <span class="n">individual_generator</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span> <span class="o">=</span> <span class="n">population_size</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span> <span class="o">=</span> <span class="n">objective_functions</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">bigger_is_better</span> <span class="o">=</span> <span class="n">bigger_is_better</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">bigger_is_better</span><span class="p">:</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span><span class="o">*-</span><span class="mi">1</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">population_size_list</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span> <span class="o">=</span> <span class="n">periodic_checkpoint_folder</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span>  <span class="o">=</span> <span class="n">verbose</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span class="k">if</span> <span class="n">max_time_mins</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span> <span class="o">=</span> <span class="n">max_time_mins</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>    <span class="c1">#functools requires none for infinite time, doesn&#39;t support inf</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span class="k">if</span> <span class="n">max_eval_time_mins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">max_eval_time_mins</span> <span class="p">):</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="o">=</span> <span class="n">max_eval_time_mins</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span> <span class="o">=</span> <span class="n">initial_population_size</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span> <span class="o">=</span> <span class="n">budget_range</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">budget_scaling</span> <span class="o">=</span> <span class="n">budget_scaling</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">stepwise_steps</span> <span class="o">=</span> <span class="n">stepwise_steps</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">memory_limit</span> <span class="o">=</span> <span class="n">memory_limit</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">client</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">survival_selector</span><span class="o">=</span><span class="n">survival_selector</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">parent_selector</span><span class="o">=</span><span class="n">parent_selector</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>    <span class="n">total_var_p</span> <span class="o">=</span> <span class="n">crossover_probability</span> <span class="o">+</span> <span class="n">mutate_probability</span> <span class="o">+</span> <span class="n">mutate_then_crossover_probability</span> <span class="o">+</span> <span class="n">crossover_then_mutate_probability</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">crossover_probability</span> <span class="o">=</span> <span class="n">crossover_probability</span> <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">mutate_probability</span> <span class="o">=</span> <span class="n">mutate_probability</span>  <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">mutate_then_crossover_probability</span><span class="o">=</span> <span class="n">mutate_then_crossover_probability</span> <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">crossover_then_mutate_probability</span><span class="o">=</span> <span class="n">crossover_then_mutate_probability</span> <span class="o">/</span> <span class="n">total_var_p</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">n_parents</span> <span class="o">=</span> <span class="n">n_parents</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>    <span class="k">if</span> <span class="n">objective_kwargs</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span> <span class="o">=</span> <span class="n">objective_kwargs</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="c1">###########</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span> <span class="o">=</span> <span class="n">beta_interpolation</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">n</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">generations_until_end_budget</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_scaling</span><span class="p">,</span> <span class="n">n_steps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stepwise_steps</span><span class="p">)</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span class="k">if</span> <span class="n">objective_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;objective&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">objective_function_weights</span><span class="p">))]</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span> <span class="o">=</span> <span class="n">objective_names</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generation</span><span class="p">:</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_list</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generation</span><span class="p">]</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="o">=</span> <span class="n">early_stop_tol</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span> <span class="o">=</span> <span class="n">early_stop_mins</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span> <span class="o">=</span> <span class="n">early_stop</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span> <span class="k">if</span> <span class="n">tol</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tol</span> <span class="k">for</span> <span class="n">tol</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span><span class="p">]</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span><span class="p">,</span> <span class="s2">&quot;population.pkl&quot;</span><span class="p">)</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span><span class="p">):</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">periodic_checkpoint_folder</span><span class="p">)</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">):</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>    <span class="n">init_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>        <span class="n">init_names</span> <span class="o">=</span> <span class="n">init_names</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;Budget&quot;</span><span class="p">]</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="n">tpot</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="n">init_names</span><span class="p">)</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="n">initial_population</span> <span class="o">=</span> <span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">individual_generator</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span><span class="p">)]</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">add_to_population</span><span class="p">(</span><span class="n">initial_population</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tpot.evolvers.steady_state_evolver.SteadyStateEvolver.get_unevaluated_individuals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="n">column_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">individual_list</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver.get_unevaluated_individuals" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>This function is used to get a list of individuals in the current population that have not been evaluated yet.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>column_names</code></td>
            <td>
                  <code>list of strings</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the columns to check for unevaluated individuals (generally objective functions).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>budget</code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Budget to use when checking for unevaluated individuals. If None, will not check the budget column.
Finds individuals who have not been evaluated with the given budget on column names.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>individual_list</code></td>
            <td>
                  <code>list of individuals</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of individuals to check for unevaluated individuals. If None, will use the current population.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tpot/evolvers/steady_state_evolver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-750">750</a></span>
<span class="normal"><a href="#__codelineno-0-751">751</a></span>
<span class="normal"><a href="#__codelineno-0-752">752</a></span>
<span class="normal"><a href="#__codelineno-0-753">753</a></span>
<span class="normal"><a href="#__codelineno-0-754">754</a></span>
<span class="normal"><a href="#__codelineno-0-755">755</a></span>
<span class="normal"><a href="#__codelineno-0-756">756</a></span>
<span class="normal"><a href="#__codelineno-0-757">757</a></span>
<span class="normal"><a href="#__codelineno-0-758">758</a></span>
<span class="normal"><a href="#__codelineno-0-759">759</a></span>
<span class="normal"><a href="#__codelineno-0-760">760</a></span>
<span class="normal"><a href="#__codelineno-0-761">761</a></span>
<span class="normal"><a href="#__codelineno-0-762">762</a></span>
<span class="normal"><a href="#__codelineno-0-763">763</a></span>
<span class="normal"><a href="#__codelineno-0-764">764</a></span>
<span class="normal"><a href="#__codelineno-0-765">765</a></span>
<span class="normal"><a href="#__codelineno-0-766">766</a></span>
<span class="normal"><a href="#__codelineno-0-767">767</a></span>
<span class="normal"><a href="#__codelineno-0-768">768</a></span>
<span class="normal"><a href="#__codelineno-0-769">769</a></span>
<span class="normal"><a href="#__codelineno-0-770">770</a></span>
<span class="normal"><a href="#__codelineno-0-771">771</a></span>
<span class="normal"><a href="#__codelineno-0-772">772</a></span>
<span class="normal"><a href="#__codelineno-0-773">773</a></span>
<span class="normal"><a href="#__codelineno-0-774">774</a></span>
<span class="normal"><a href="#__codelineno-0-775">775</a></span>
<span class="normal"><a href="#__codelineno-0-776">776</a></span>
<span class="normal"><a href="#__codelineno-0-777">777</a></span>
<span class="normal"><a href="#__codelineno-0-778">778</a></span>
<span class="normal"><a href="#__codelineno-0-779">779</a></span>
<span class="normal"><a href="#__codelineno-0-780">780</a></span>
<span class="normal"><a href="#__codelineno-0-781">781</a></span>
<span class="normal"><a href="#__codelineno-0-782">782</a></span>
<span class="normal"><a href="#__codelineno-0-783">783</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-750" name="__codelineno-0-750"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">individual_list</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-751" name="__codelineno-0-751"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-752" name="__codelineno-0-752"></a><span class="sd">    This function is used to get a list of individuals in the current population that have not been evaluated yet.</span>
<a id="__codelineno-0-753" name="__codelineno-0-753"></a>
<a id="__codelineno-0-754" name="__codelineno-0-754"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-755" name="__codelineno-0-755"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-756" name="__codelineno-0-756"></a><span class="sd">    column_names : list of strings</span>
<a id="__codelineno-0-757" name="__codelineno-0-757"></a><span class="sd">        Names of the columns to check for unevaluated individuals (generally objective functions).</span>
<a id="__codelineno-0-758" name="__codelineno-0-758"></a><span class="sd">    budget : float, default=None</span>
<a id="__codelineno-0-759" name="__codelineno-0-759"></a><span class="sd">        Budget to use when checking for unevaluated individuals. If None, will not check the budget column.</span>
<a id="__codelineno-0-760" name="__codelineno-0-760"></a><span class="sd">        Finds individuals who have not been evaluated with the given budget on column names.</span>
<a id="__codelineno-0-761" name="__codelineno-0-761"></a><span class="sd">    individual_list : list of individuals, default=None</span>
<a id="__codelineno-0-762" name="__codelineno-0-762"></a><span class="sd">        List of individuals to check for unevaluated individuals. If None, will use the current population.</span>
<a id="__codelineno-0-763" name="__codelineno-0-763"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-764" name="__codelineno-0-764"></a>    <span class="k">if</span> <span class="n">individual_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-765" name="__codelineno-0-765"></a>        <span class="n">cur_pop</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">individual_list</span><span class="p">)</span>
<a id="__codelineno-0-766" name="__codelineno-0-766"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-767" name="__codelineno-0-767"></a>        <span class="n">cur_pop</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">population</span><span class="p">)</span>
<a id="__codelineno-0-768" name="__codelineno-0-768"></a>
<a id="__codelineno-0-769" name="__codelineno-0-769"></a>    <span class="k">if</span> <span class="nb">all</span><span class="p">([</span><span class="n">name_step</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="o">.</span><span class="n">columns</span> <span class="k">for</span> <span class="n">name_step</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">]):</span>
<a id="__codelineno-0-770" name="__codelineno-0-770"></a>        <span class="k">if</span> <span class="n">budget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-771" name="__codelineno-0-771"></a>            <span class="n">offspring_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="n">cur_pop</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="n">column_names</span><span class="o">+</span><span class="p">[</span><span class="s2">&quot;Budget&quot;</span><span class="p">],</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-772" name="__codelineno-0-772"></a>            <span class="c1">#Individuals are unevaluated if we have a higher budget OR if any of the objectives are nan</span>
<a id="__codelineno-0-773" name="__codelineno-0-773"></a>            <span class="n">unevaluated_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">(</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="s2">&quot;Budget&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">budget</span><span class="p">)</span>
<a id="__codelineno-0-774" name="__codelineno-0-774"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-775" name="__codelineno-0-775"></a>            <span class="n">offspring_scores</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="n">cur_pop</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="n">column_names</span><span class="p">,</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-776" name="__codelineno-0-776"></a>            <span class="n">unevaluated_filter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">(</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">offspring_scores</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">column_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">())</span>
<a id="__codelineno-0-777" name="__codelineno-0-777"></a>        <span class="n">unevaluated_individuals_this_step</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cur_pop</span><span class="p">))</span> <span class="k">if</span> <span class="n">unevaluated_filter</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span>
<a id="__codelineno-0-778" name="__codelineno-0-778"></a>        <span class="k">return</span> <span class="n">cur_pop</span><span class="p">[</span><span class="n">unevaluated_individuals_this_step</span><span class="p">]</span>
<a id="__codelineno-0-779" name="__codelineno-0-779"></a>
<a id="__codelineno-0-780" name="__codelineno-0-780"></a>    <span class="k">else</span><span class="p">:</span> <span class="c1">#if column names are not in the evaluated_individuals, then we have not evaluated any individuals yet</span>
<a id="__codelineno-0-781" name="__codelineno-0-781"></a>        <span class="k">for</span> <span class="n">name_step</span> <span class="ow">in</span> <span class="n">column_names</span><span class="p">:</span>
<a id="__codelineno-0-782" name="__codelineno-0-782"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[</span><span class="n">name_step</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<a id="__codelineno-0-783" name="__codelineno-0-783"></a>        <span class="k">return</span> <span class="n">cur_pop</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tpot.evolvers.steady_state_evolver.SteadyStateEvolver.optimize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">optimize</span><span class="p">()</span></code>

<a href="#tpot.evolvers.steady_state_evolver.SteadyStateEvolver.optimize" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Creates an initial population and runs the evolutionary algorithm for the given number of generations. 
If generations is None, will use self.generations.</p>

            <details class="quote">
              <summary>Source code in <code>tpot/evolvers/steady_state_evolver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span>
<span class="normal"><a href="#__codelineno-0-675">675</a></span>
<span class="normal"><a href="#__codelineno-0-676">676</a></span>
<span class="normal"><a href="#__codelineno-0-677">677</a></span>
<span class="normal"><a href="#__codelineno-0-678">678</a></span>
<span class="normal"><a href="#__codelineno-0-679">679</a></span>
<span class="normal"><a href="#__codelineno-0-680">680</a></span>
<span class="normal"><a href="#__codelineno-0-681">681</a></span>
<span class="normal"><a href="#__codelineno-0-682">682</a></span>
<span class="normal"><a href="#__codelineno-0-683">683</a></span>
<span class="normal"><a href="#__codelineno-0-684">684</a></span>
<span class="normal"><a href="#__codelineno-0-685">685</a></span>
<span class="normal"><a href="#__codelineno-0-686">686</a></span>
<span class="normal"><a href="#__codelineno-0-687">687</a></span>
<span class="normal"><a href="#__codelineno-0-688">688</a></span>
<span class="normal"><a href="#__codelineno-0-689">689</a></span>
<span class="normal"><a href="#__codelineno-0-690">690</a></span>
<span class="normal"><a href="#__codelineno-0-691">691</a></span>
<span class="normal"><a href="#__codelineno-0-692">692</a></span>
<span class="normal"><a href="#__codelineno-0-693">693</a></span>
<span class="normal"><a href="#__codelineno-0-694">694</a></span>
<span class="normal"><a href="#__codelineno-0-695">695</a></span>
<span class="normal"><a href="#__codelineno-0-696">696</a></span>
<span class="normal"><a href="#__codelineno-0-697">697</a></span>
<span class="normal"><a href="#__codelineno-0-698">698</a></span>
<span class="normal"><a href="#__codelineno-0-699">699</a></span>
<span class="normal"><a href="#__codelineno-0-700">700</a></span>
<span class="normal"><a href="#__codelineno-0-701">701</a></span>
<span class="normal"><a href="#__codelineno-0-702">702</a></span>
<span class="normal"><a href="#__codelineno-0-703">703</a></span>
<span class="normal"><a href="#__codelineno-0-704">704</a></span>
<span class="normal"><a href="#__codelineno-0-705">705</a></span>
<span class="normal"><a href="#__codelineno-0-706">706</a></span>
<span class="normal"><a href="#__codelineno-0-707">707</a></span>
<span class="normal"><a href="#__codelineno-0-708">708</a></span>
<span class="normal"><a href="#__codelineno-0-709">709</a></span>
<span class="normal"><a href="#__codelineno-0-710">710</a></span>
<span class="normal"><a href="#__codelineno-0-711">711</a></span>
<span class="normal"><a href="#__codelineno-0-712">712</a></span>
<span class="normal"><a href="#__codelineno-0-713">713</a></span>
<span class="normal"><a href="#__codelineno-0-714">714</a></span>
<span class="normal"><a href="#__codelineno-0-715">715</a></span>
<span class="normal"><a href="#__codelineno-0-716">716</a></span>
<span class="normal"><a href="#__codelineno-0-717">717</a></span>
<span class="normal"><a href="#__codelineno-0-718">718</a></span>
<span class="normal"><a href="#__codelineno-0-719">719</a></span>
<span class="normal"><a href="#__codelineno-0-720">720</a></span>
<span class="normal"><a href="#__codelineno-0-721">721</a></span>
<span class="normal"><a href="#__codelineno-0-722">722</a></span>
<span class="normal"><a href="#__codelineno-0-723">723</a></span>
<span class="normal"><a href="#__codelineno-0-724">724</a></span>
<span class="normal"><a href="#__codelineno-0-725">725</a></span>
<span class="normal"><a href="#__codelineno-0-726">726</a></span>
<span class="normal"><a href="#__codelineno-0-727">727</a></span>
<span class="normal"><a href="#__codelineno-0-728">728</a></span>
<span class="normal"><a href="#__codelineno-0-729">729</a></span>
<span class="normal"><a href="#__codelineno-0-730">730</a></span>
<span class="normal"><a href="#__codelineno-0-731">731</a></span>
<span class="normal"><a href="#__codelineno-0-732">732</a></span>
<span class="normal"><a href="#__codelineno-0-733">733</a></span>
<span class="normal"><a href="#__codelineno-0-734">734</a></span>
<span class="normal"><a href="#__codelineno-0-735">735</a></span>
<span class="normal"><a href="#__codelineno-0-736">736</a></span>
<span class="normal"><a href="#__codelineno-0-737">737</a></span>
<span class="normal"><a href="#__codelineno-0-738">738</a></span>
<span class="normal"><a href="#__codelineno-0-739">739</a></span>
<span class="normal"><a href="#__codelineno-0-740">740</a></span>
<span class="normal"><a href="#__codelineno-0-741">741</a></span>
<span class="normal"><a href="#__codelineno-0-742">742</a></span>
<span class="normal"><a href="#__codelineno-0-743">743</a></span>
<span class="normal"><a href="#__codelineno-0-744">744</a></span>
<span class="normal"><a href="#__codelineno-0-745">745</a></span>
<span class="normal"><a href="#__codelineno-0-746">746</a></span>
<span class="normal"><a href="#__codelineno-0-747">747</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="k">def</span><span class="w"> </span><span class="nf">optimize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">    Creates an initial population and runs the evolutionary algorithm for the given number of generations. </span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">    If generations is None, will use self.generations.</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="c1">#intialize the client</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#If user passed in a client manually</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>       <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span class="n">silence_logs</span> <span class="o">=</span> <span class="mi">30</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span><span class="mi">5</span><span class="p">:</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="n">silence_logs</span> <span class="o">=</span> <span class="mi">40</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="n">silence_logs</span> <span class="o">=</span> <span class="mi">50</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cluster</span> <span class="o">=</span> <span class="n">LocalCluster</span><span class="p">(</span><span class="n">n_workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span> <span class="c1">#if no client is passed in and no global client exists, create our own</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>                <span class="n">threads_per_worker</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                <span class="n">silence_logs</span><span class="o">=</span><span class="n">silence_logs</span><span class="p">,</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>                <span class="n">processes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                <span class="n">memory_limit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">memory_limit</span><span class="p">)</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cluster</span><span class="p">)</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">workers</span><span class="p">)</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>    <span class="c1">#set up logging params</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>    <span class="n">evaluated_count</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="n">generations_without_improvement</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">))])</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="n">timestamp_of_last_improvement</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">))])</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">best_scores</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">))]</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>    <span class="n">scheduled_timeout_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span><span class="o">*</span><span class="mi">60</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>    <span class="n">budget</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>    <span class="n">submitted_futures</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>    <span class="n">submitted_inds</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>                <span class="n">pbar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span><span class="p">,</span> <span class="n">miniters</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>                <span class="n">pbar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">miniters</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>            <span class="n">pbar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="s2">&quot;Evaluations&quot;</span><span class="p">)</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>        <span class="c1">#submit initial population</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="n">budget</span><span class="p">,)</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span><span class="p">:</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span><span class="p">:</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                <span class="k">break</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>            <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">eval_utils</span><span class="o">.</span><span class="n">eval_objective_list</span><span class="p">,</span> <span class="n">individual</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span><span class="p">)</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>            <span class="n">submitted_futures</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;individual&quot;</span><span class="p">:</span> <span class="n">individual</span><span class="p">,</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                                        <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>                                        <span class="s2">&quot;budget&quot;</span><span class="p">:</span> <span class="n">budget</span><span class="p">,}</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>            <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Submitted Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>        <span class="n">done</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>        <span class="n">enough_parents_evaluated</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>        <span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>            <span class="c1"># Step 1: Check for finished futures</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span class="c1">#wait for at least one future to finish or timeout</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">):</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                    <span class="nb">next</span><span class="p">(</span><span class="n">distributed</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="mi">60</span><span class="p">))</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>                    <span class="nb">next</span><span class="p">(</span><span class="n">distributed</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="o">*</span><span class="mi">60</span><span class="p">))</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>            <span class="k">except</span> <span class="n">dask</span><span class="o">.</span><span class="n">distributed</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">:</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                <span class="k">pass</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="k">except</span> <span class="n">dask</span><span class="o">.</span><span class="n">distributed</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="k">pass</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>            <span class="c1">#Loop through all futures, collect completed and timeout futures.</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>            <span class="k">for</span> <span class="n">completed_future</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">submitted_futures</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>                <span class="n">eval_error</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>                <span class="c1">#get scores and update</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>                <span class="k">if</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">done</span><span class="p">():</span> <span class="c1">#if future is done</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>                    <span class="c1">#If the future is done but threw and error, record the error</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>                    <span class="k">if</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">exception</span><span class="p">()</span> <span class="ow">or</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="c1">#if the future is done and threw an error</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in future&quot;</span><span class="p">)</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>                        <span class="nb">print</span><span class="p">(</span><span class="n">completed_future</span><span class="o">.</span><span class="n">exception</span><span class="p">())</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>                        <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>                        <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>                    <span class="k">elif</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">cancelled</span><span class="p">():</span> <span class="c1">#if the future is done and was cancelled</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cancelled future (likely memory related)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>                        <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>                        <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">)</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>                    <span class="k">else</span><span class="p">:</span> <span class="c1">#if the future is done and did not throw an error, get the scores</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>                        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>                            <span class="n">scores</span> <span class="o">=</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>                            <span class="c1">#check if scores contain &quot;INVALID&quot; or &quot;TIMEOUT&quot;</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>                            <span class="k">if</span> <span class="s2">&quot;INVALID&quot;</span> <span class="ow">in</span> <span class="n">scores</span><span class="p">:</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>                                <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>                                <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                            <span class="k">elif</span> <span class="s2">&quot;TIMEOUT&quot;</span> <span class="ow">in</span> <span class="n">scores</span><span class="p">:</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>                                <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;TIMEOUT&quot;</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>                                <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>                        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in future, but not caught by dask&quot;</span><span class="p">)</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">completed_future</span><span class="o">.</span><span class="n">exception</span><span class="p">())</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">completed_future</span><span class="p">)</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;done&quot;</span><span class="p">,</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">done</span><span class="p">())</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cancelld &quot;</span><span class="p">,</span> <span class="n">completed_future</span><span class="o">.</span><span class="n">cancelled</span><span class="p">())</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>                            <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>                            <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;INVALID&quot;</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>                    <span class="n">completed_future</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1">#release the future</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>                <span class="k">else</span><span class="p">:</span> <span class="c1">#if future is not done</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>                    <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">)):</span> <span class="c1">#if max_eval_time_mins is set to a value</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>                        <span class="c1">#check if the future has been running for too long, cancel the future</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>                        <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="o">*</span><span class="mf">1.25</span><span class="o">*</span><span class="mi">60</span><span class="p">:</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>                            <span class="n">completed_future</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>                            <span class="n">completed_future</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1">#release the future</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING AN INDIVIDUAL TIMED OUT (Fallback): </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">]</span><span class="si">}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>                            <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>                            <span class="n">eval_error</span> <span class="o">=</span> <span class="s2">&quot;TIMEOUT&quot;</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>                        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>                            <span class="k">continue</span> <span class="c1">#otherwise, continue to next future</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>                    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>                        <span class="c1">#this future is not done and we don&#39;t have a time limit so let it keep goooooiiiinnnggggg</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>                        <span class="c1">#there must be another future that did complete</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>                        <span class="k">continue</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>                <span class="c1">#update population</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>                <span class="n">this_individual</span> <span class="o">=</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;individual&quot;</span><span class="p">]</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>                <span class="n">this_budget</span> <span class="o">=</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;budget&quot;</span><span class="p">]</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>                <span class="n">this_time</span> <span class="o">=</span> <span class="n">submitted_futures</span><span class="p">[</span><span class="n">completed_future</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">):</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>                    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">scores</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">scores</span><span class="p">)</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Completed Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">eval_error</span><span class="p">)</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>                <span class="k">if</span> <span class="n">budget</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">this_individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Budget&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">this_budget</span><span class="p">)</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>                <span class="n">submitted_futures</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">completed_future</span><span class="p">)</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>                <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>                    <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>            <span class="c1">#now we have a list of completed futures</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;INVALID&quot;</span><span class="p">)</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">)</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="c1">#I am not entirely sure if this is necessary. I believe that calling release on the futures should be enough to free up memory. If memory issues persist, this may be a good place to start.</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="c1">#client.run(gc.collect) #run garbage collection to free up memory</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="c1"># Step 2: Early Stopping</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>                <span class="n">sign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>                <span class="n">valid_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[</span><span class="o">~</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[[</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span><span class="s2">&quot;INVALID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)][</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">*</span><span class="n">sign</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>                <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">valid_df</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="n">sign</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>                <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">cur_best_scores</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">):</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Best </span><span class="si">{</span><span class="n">obj</span><span class="si">}</span><span class="s2"> score: </span><span class="si">{</span><span class="n">cur_best_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="p">:</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">budget</span><span class="o">&gt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">budget_range</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span> <span class="c1">#self.budget&gt;=1:</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>                    <span class="c1">#get sign of objective_function_weights</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>                    <span class="n">sign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>                    <span class="c1">#get best score for each objective</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>                    <span class="n">valid_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[</span><span class="o">~</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">[[</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span><span class="s2">&quot;INVALID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)][</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">*</span><span class="n">sign</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>                    <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">valid_df</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>                    <span class="n">cur_best_scores</span> <span class="o">=</span> <span class="n">cur_best_scores</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>                    <span class="c1">#cur_best_scores =  self.population.get_column(self.population.population, column_names=self.objective_names).max(axis=0)*sign #TODO this assumes the current population is the best</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>                    <span class="n">improved</span> <span class="o">=</span> <span class="p">(</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cur_best_scores</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">best_scores</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_tol</span><span class="p">)</span> <span class="p">)</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>                    <span class="n">not_improved</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_not</span><span class="p">(</span><span class="n">improved</span><span class="p">)</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>                    <span class="n">generations_without_improvement</span> <span class="o">=</span> <span class="n">generations_without_improvement</span> <span class="o">*</span> <span class="n">not_improved</span> <span class="o">+</span> <span class="n">not_improved</span> <span class="c1">#set to zero if not improved, else increment</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>                    <span class="n">timestamp_of_last_improvement</span> <span class="o">=</span> <span class="n">timestamp_of_last_improvement</span> <span class="o">*</span> <span class="n">not_improved</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">*</span><span class="n">improved</span> <span class="c1">#set to current time if improved</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>                    <span class="k">pass</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>                    <span class="c1">#update best score</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>                    <span class="n">best_scores</span> <span class="o">=</span> <span class="p">[</span><span class="nb">max</span><span class="p">(</span><span class="n">best_scores</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cur_best_scores</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))]</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span><span class="p">:</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>                        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">generations_without_improvement</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span><span class="p">):</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Early stop (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop</span><span class="si">}</span><span class="s2"> individuals evaluated without improvement)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>                            <span class="k">break</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="p">:</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>                        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">timestamp_of_last_improvement</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="o">*</span><span class="mi">60</span><span class="p">):</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Early stop  (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">early_stop_mins</span><span class="si">}</span><span class="s2"> seconds passed without improvement)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>                            <span class="k">break</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="c1">#if we evaluated enough individuals or time is up, stop</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_time_mins</span><span class="o">*</span><span class="mi">60</span><span class="p">:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time limit reached&quot;</span><span class="p">)</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>                <span class="n">done</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>                <span class="k">break</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_evaluated_individuals</span><span class="p">:</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Evaluated enough individuals&quot;</span><span class="p">)</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>                <span class="n">done</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>                <span class="k">break</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>            <span class="c1"># Step 3: Submit unevaluated individuals from the initial population</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>            <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="n">budget</span><span class="p">,)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>            <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ind</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span> <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">unique_id</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">submitted_inds</span><span class="p">]</span>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>            <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span><span class="p">:</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">):</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>                    <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">eval_utils</span><span class="o">.</span><span class="n">eval_objective_list</span><span class="p">,</span> <span class="n">individual</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span><span class="p">)</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>                    <span class="n">submitted_futures</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;individual&quot;</span><span class="p">:</span> <span class="n">individual</span><span class="p">,</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>                                                <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>                                                <span class="s2">&quot;budget&quot;</span><span class="p">:</span> <span class="n">budget</span><span class="p">,}</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>                    <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Submitted Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>            <span class="c1"># Step 4: Survival Selection</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">survival_selector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>                <span class="n">parents_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">],</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>                <span class="n">evaluated</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="o">~</span><span class="n">parents_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">evaluated</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">:</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>                    <span class="n">unevaluated</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="n">parents_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>                    <span class="n">cur_evaluated_population</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cur_evaluated_population</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">:</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>                        <span class="n">scores</span> <span class="o">=</span> <span class="n">evaluated</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>                        <span class="n">weighted_scores</span> <span class="o">=</span> <span class="n">scores</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>                        <span class="n">new_population_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">survival_selector</span><span class="p">(</span><span class="n">weighted_scores</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">))</span> <span class="c1">#TODO make it clear that we are concatenating scores...</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>                        <span class="c1">#set new population</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>                        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>                            <span class="n">cur_evaluated_population</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cur_evaluated_population</span><span class="p">)[</span><span class="n">new_population_index</span><span class="p">]</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>                            <span class="n">cur_evaluated_population</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">cur_evaluated_population</span><span class="p">,</span> <span class="n">unevaluated</span><span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()])</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">set_population</span><span class="p">(</span><span class="n">cur_evaluated_population</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>                        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in survival selection&quot;</span><span class="p">)</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;new_population_index&quot;</span><span class="p">,</span> <span class="n">new_population_index</span><span class="p">)</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;cur_evaluated_population&quot;</span><span class="p">,</span> <span class="n">cur_evaluated_population</span><span class="p">)</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;unevaluated&quot;</span><span class="p">,</span> <span class="n">unevaluated</span><span class="p">)</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;evaluated&quot;</span><span class="p">,</span> <span class="n">evaluated</span><span class="p">)</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;scores&quot;</span><span class="p">,</span> <span class="n">scores</span><span class="p">)</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;weighted_scores&quot;</span><span class="p">,</span> <span class="n">weighted_scores</span><span class="p">)</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;self.objective_function_weights&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;self.population_size&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_size</span><span class="p">)</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;parents_df&quot;</span><span class="p">,</span> <span class="n">parents_df</span><span class="p">)</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>            <span class="c1"># Step 5: Parent Selection and Variation</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>            <span class="n">n_individuals_to_submit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>            <span class="k">if</span> <span class="n">n_individuals_to_submit</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>                <span class="c1">#count non-nan values in the objective columns</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">enough_parents_evaluated</span><span class="p">:</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>                    <span class="n">parents_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">to_numpy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>                    <span class="n">scores</span> <span class="o">=</span> <span class="n">parents_df</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>                    <span class="c1">#count non-nan values in the objective columns</span>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>                    <span class="n">n_evaluated</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>                    <span class="k">if</span> <span class="n">n_evaluated</span> <span class="o">&gt;</span><span class="mi">0</span> <span class="p">:</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>                        <span class="n">enough_parents_evaluated</span><span class="o">=</span><span class="kc">True</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>                <span class="c1"># parents_df = self.population.get_column(self.population.population, column_names=self.objective_names+ [&quot;Individual&quot;], to_numpy=False)</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>                <span class="c1"># parents_df = parents_df[~parents_df[self.objective_names].isin([&quot;TIMEOUT&quot;,&quot;INVALID&quot;]).any(axis=1)]</span>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>                <span class="c1"># parents_df = parents_df[~parents_df[self.objective_names].isna().any(axis=1)]</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>                <span class="c1"># cur_evaluated_population = parents_df[&quot;Individual&quot;].to_numpy()</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>                <span class="c1"># if len(cur_evaluated_population) &gt; 0:</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a>                <span class="c1">#     scores = parents_df[self.objective_names].to_numpy()</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a>                <span class="c1">#     weighted_scores = scores * self.objective_function_weights</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>                <span class="c1">#     #number of crossover pairs and mutation only parent to generate</span>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a>                <span class="c1">#     if len(parents_df) &lt; 2:</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a>                <span class="c1">#         var_ops = [&quot;mutate&quot; for _ in range(n_individuals_to_submit)]</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>                <span class="c1">#     else:</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>                <span class="c1">#         var_ops = [self.rng.choice([&quot;crossover&quot;,&quot;mutate_then_crossover&quot;,&quot;crossover_then_mutate&quot;,&#39;mutate&#39;],p=[self.crossover_probability,self.mutate_then_crossover_probability, self.crossover_then_mutate_probability,self.mutate_probability]) for _ in range(n_individuals_to_submit)]</span>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>                <span class="c1">#     parents = []</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>                <span class="c1">#     for op in var_ops:</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>                <span class="c1">#         if op == &quot;mutate&quot;:</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>                <span class="c1">#             parents.extend(np.array(cur_evaluated_population)[self.parent_selector(weighted_scores, k=1, n_parents=1, rng=self.rng)])</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>                <span class="c1">#         else:</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>                <span class="c1">#             parents.extend(np.array(cur_evaluated_population)[self.parent_selector(weighted_scores, k=1, n_parents=2, rng=self.rng)])</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>                <span class="c1">#     #_offspring = self.population.create_offspring2(parents, var_ops, rng=self.rng, add_to_population=True)</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>                <span class="c1">#     offspring = self.population.create_offspring2(parents, var_ops, [ind_mutate], None, [ind_crossover], None, add_to_population=True, keep_repeats=False, mutate_until_unique=True, rng=self.rng)</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>                <span class="k">if</span> <span class="n">enough_parents_evaluated</span><span class="p">:</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>                    <span class="n">parents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">parent_select</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_selector</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">,</span> <span class="n">columns_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">n_individuals_to_submit</span><span class="p">,</span> <span class="n">n_parents</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>                    <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">crossover_probability</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate_then_crossover_probability</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">crossover_then_mutate_probability</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate_probability</span><span class="p">])</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>                    <span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="n">p</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>                    <span class="n">var_op_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;crossover&quot;</span><span class="p">,</span> <span class="s2">&quot;mutate_then_crossover&quot;</span><span class="p">,</span> <span class="s2">&quot;crossover_then_mutate&quot;</span><span class="p">,</span> <span class="s2">&quot;mutate&quot;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">n_individuals_to_submit</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>
<a id="__codelineno-0-675" name="__codelineno-0-675"></a>                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">var_op_list</span><span class="p">):</span>
<a id="__codelineno-0-676" name="__codelineno-0-676"></a>                        <span class="k">if</span> <span class="n">op</span> <span class="o">==</span> <span class="s2">&quot;mutate&quot;</span><span class="p">:</span>
<a id="__codelineno-0-677" name="__codelineno-0-677"></a>                            <span class="n">parents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">parents</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#mutations take a single individual</span>
<a id="__codelineno-0-678" name="__codelineno-0-678"></a>
<a id="__codelineno-0-679" name="__codelineno-0-679"></a>                    <span class="n">offspring</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">create_offspring2</span><span class="p">(</span><span class="n">parents</span><span class="p">,</span> <span class="n">var_op_list</span><span class="p">,</span> <span class="p">[</span><span class="n">ind_mutate</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="n">ind_crossover</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="n">add_to_population</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_repeats</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mutate_until_unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-680" name="__codelineno-0-680"></a>
<a id="__codelineno-0-681" name="__codelineno-0-681"></a>                <span class="c1"># If we don&#39;t have enough evaluated individuals to use as parents for variation, we create new individuals randomly</span>
<a id="__codelineno-0-682" name="__codelineno-0-682"></a>                <span class="c1"># This can happen if the individuals in the initial population are invalid</span>
<a id="__codelineno-0-683" name="__codelineno-0-683"></a>                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span><span class="p">:</span>
<a id="__codelineno-0-684" name="__codelineno-0-684"></a>
<a id="__codelineno-0-685" name="__codelineno-0-685"></a>                    <span class="n">initial_population</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span><span class="o">*</span><span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-0-686" name="__codelineno-0-686"></a>                    <span class="n">invalid_initial_population</span> <span class="o">=</span> <span class="n">initial_population</span><span class="p">[</span><span class="n">initial_population</span><span class="p">[[</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span><span class="s2">&quot;INVALID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<a id="__codelineno-0-687" name="__codelineno-0-687"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">invalid_initial_population</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_population_size</span><span class="o">*</span><span class="mi">3</span><span class="p">:</span> <span class="c1">#if all individuals in the 3*initial population are invalid</span>
<a id="__codelineno-0-688" name="__codelineno-0-688"></a>                        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No individuals could be evaluated in the initial population. This may indicate a bug in the configuration, included models, or objective functions. Set verbose&gt;=4 to see the errors that caused individuals to fail.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-689" name="__codelineno-0-689"></a>
<a id="__codelineno-0-690" name="__codelineno-0-690"></a>                    <span class="n">n_individuals_to_create</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">)</span>
<a id="__codelineno-0-691" name="__codelineno-0-691"></a>                    <span class="n">initial_population</span> <span class="o">=</span> <span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">individual_generator</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_individuals_to_create</span><span class="p">)]</span>
<a id="__codelineno-0-692" name="__codelineno-0-692"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">add_to_population</span><span class="p">(</span><span class="n">initial_population</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-693" name="__codelineno-0-693"></a>
<a id="__codelineno-0-694" name="__codelineno-0-694"></a>
<a id="__codelineno-0-695" name="__codelineno-0-695"></a>
<a id="__codelineno-0-696" name="__codelineno-0-696"></a>
<a id="__codelineno-0-697" name="__codelineno-0-697"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-698" name="__codelineno-0-698"></a>            <span class="c1"># Step 6: Add Unevaluated Individuals Generated by Variation</span>
<a id="__codelineno-0-699" name="__codelineno-0-699"></a>            <span class="c1">###############################</span>
<a id="__codelineno-0-700" name="__codelineno-0-700"></a>            <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unevaluated_individuals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">budget</span><span class="o">=</span><span class="n">budget</span><span class="p">,)</span>
<a id="__codelineno-0-701" name="__codelineno-0-701"></a>            <span class="n">individuals_to_evaluate</span> <span class="o">=</span> <span class="p">[</span><span class="n">ind</span> <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span> <span class="k">if</span> <span class="n">ind</span><span class="o">.</span><span class="n">unique_id</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">submitted_inds</span><span class="p">]</span>
<a id="__codelineno-0-702" name="__codelineno-0-702"></a>            <span class="k">for</span> <span class="n">individual</span> <span class="ow">in</span> <span class="n">individuals_to_evaluate</span><span class="p">:</span>
<a id="__codelineno-0-703" name="__codelineno-0-703"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_queue_size</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">submitted_futures</span><span class="p">):</span>
<a id="__codelineno-0-704" name="__codelineno-0-704"></a>                    <span class="n">future</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">eval_utils</span><span class="o">.</span><span class="n">eval_objective_list</span><span class="p">,</span> <span class="n">individual</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">objective_functions</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">max_eval_time_mins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_eval_time_mins</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_kwargs</span><span class="p">)</span>
<a id="__codelineno-0-705" name="__codelineno-0-705"></a>
<a id="__codelineno-0-706" name="__codelineno-0-706"></a>                    <span class="n">submitted_futures</span><span class="p">[</span><span class="n">future</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;individual&quot;</span><span class="p">:</span> <span class="n">individual</span><span class="p">,</span>
<a id="__codelineno-0-707" name="__codelineno-0-707"></a>                                                <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
<a id="__codelineno-0-708" name="__codelineno-0-708"></a>                                                <span class="s2">&quot;budget&quot;</span><span class="p">:</span> <span class="n">budget</span><span class="p">,}</span>
<a id="__codelineno-0-709" name="__codelineno-0-709"></a>                    <span class="n">submitted_inds</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">individual</span><span class="o">.</span><span class="n">unique_id</span><span class="p">())</span>
<a id="__codelineno-0-710" name="__codelineno-0-710"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">update_column</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Submitted Timestamp&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<a id="__codelineno-0-711" name="__codelineno-0-711"></a>
<a id="__codelineno-0-712" name="__codelineno-0-712"></a>
<a id="__codelineno-0-713" name="__codelineno-0-713"></a>            <span class="c1">#Checkpointing</span>
<a id="__codelineno-0-714" name="__codelineno-0-714"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># and time.time() - last_save_time &gt; 60*10:</span>
<a id="__codelineno-0-715" name="__codelineno-0-715"></a>                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">))</span>
<a id="__codelineno-0-716" name="__codelineno-0-716"></a>
<a id="__codelineno-0-717" name="__codelineno-0-717"></a>
<a id="__codelineno-0-718" name="__codelineno-0-718"></a>
<a id="__codelineno-0-719" name="__codelineno-0-719"></a>    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<a id="__codelineno-0-720" name="__codelineno-0-720"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-721" name="__codelineno-0-721"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;KeyboardInterrupt&quot;</span><span class="p">)</span>
<a id="__codelineno-0-722" name="__codelineno-0-722"></a>
<a id="__codelineno-0-723" name="__codelineno-0-723"></a>    <span class="c1">###############################</span>
<a id="__codelineno-0-724" name="__codelineno-0-724"></a>    <span class="c1"># Step 7: Cleanup</span>
<a id="__codelineno-0-725" name="__codelineno-0-725"></a>    <span class="c1">###############################</span>
<a id="__codelineno-0-726" name="__codelineno-0-726"></a>
<a id="__codelineno-0-727" name="__codelineno-0-727"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;INVALID&quot;</span><span class="p">)</span>
<a id="__codelineno-0-728" name="__codelineno-0-728"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">remove_invalid_from_population</span><span class="p">(</span><span class="n">column_names</span><span class="o">=</span><span class="s2">&quot;Eval Error&quot;</span><span class="p">,</span> <span class="n">invalid_value</span><span class="o">=</span><span class="s2">&quot;TIMEOUT&quot;</span><span class="p">)</span>
<a id="__codelineno-0-729" name="__codelineno-0-729"></a>
<a id="__codelineno-0-730" name="__codelineno-0-730"></a>
<a id="__codelineno-0-731" name="__codelineno-0-731"></a>    <span class="c1">#done, cleanup futures</span>
<a id="__codelineno-0-732" name="__codelineno-0-732"></a>    <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">submitted_futures</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<a id="__codelineno-0-733" name="__codelineno-0-733"></a>        <span class="n">future</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
<a id="__codelineno-0-734" name="__codelineno-0-734"></a>        <span class="n">future</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c1">#release the future</span>
<a id="__codelineno-0-735" name="__codelineno-0-735"></a>
<a id="__codelineno-0-736" name="__codelineno-0-736"></a>    <span class="c1">#I am not entirely sure if this is necessary. I believe that calling release on the futures should be enough to free up memory. If memory issues persist, this may be a good place to start.</span>
<a id="__codelineno-0-737" name="__codelineno-0-737"></a>    <span class="c1">#client.run(gc.collect) #run garbage collection to free up memory</span>
<a id="__codelineno-0-738" name="__codelineno-0-738"></a>
<a id="__codelineno-0-739" name="__codelineno-0-739"></a>    <span class="c1">#checkpoint</span>
<a id="__codelineno-0-740" name="__codelineno-0-740"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">population_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-741" name="__codelineno-0-741"></a>        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">))</span>
<a id="__codelineno-0-742" name="__codelineno-0-742"></a>
<a id="__codelineno-0-743" name="__codelineno-0-743"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#If we created our own client, close it</span>
<a id="__codelineno-0-744" name="__codelineno-0-744"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-745" name="__codelineno-0-745"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_cluster</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-746" name="__codelineno-0-746"></a>
<a id="__codelineno-0-747" name="__codelineno-0-747"></a>    <span class="n">tpot</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">get_pareto_frontier</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">evaluated_individuals</span><span class="p">,</span> <span class="n">column_names</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_names</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">objective_function_weights</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="tpot.evolvers.steady_state_evolver.ind_crossover" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ind_crossover</span><span class="p">(</span><span class="n">ind1</span><span class="p">,</span> <span class="n">ind2</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span></code>

<a href="#tpot.evolvers.steady_state_evolver.ind_crossover" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Calls the ind1.crossover(ind2, rng=rng)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ind1</code></td>
            <td>
                  <code><span title="tpot.BaseIndividual">BaseIndividual</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ind2</code></td>
            <td>
                  <code><span title="tpot.BaseIndividual">BaseIndividual</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rng</code></td>
            <td>
                  <code><span title="int">int</span> or <span title="numpy.random.Generator">Generator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A numpy random generator to use for reproducibility</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tpot/evolvers/steady_state_evolver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="k">def</span><span class="w"> </span><span class="nf">ind_crossover</span><span class="p">(</span><span class="n">ind1</span><span class="p">,</span> <span class="n">ind2</span><span class="p">,</span> <span class="n">rng</span><span class="p">):</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    Calls the ind1.crossover(ind2, rng=rng)</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    ind1 : tpot.BaseIndividual</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">    ind2 : tpot.BaseIndividual</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">    rng : int or numpy.random.Generator</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">        A numpy random generator to use for reproducibility</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span class="k">return</span> <span class="n">ind1</span><span class="o">.</span><span class="n">crossover</span><span class="p">(</span><span class="n">ind2</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="tpot.evolvers.steady_state_evolver.ind_mutate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ind_mutate</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">rng</span><span class="p">)</span></code>

<a href="#tpot.evolvers.steady_state_evolver.ind_mutate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Calls the ind.mutate method on the individual</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ind</code></td>
            <td>
                  <code><span title="tpot.BaseIndividual">BaseIndividual</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The individual to mutate</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rng</code></td>
            <td>
                  <code><span title="int">int</span> or <span title="numpy.random.Generator">Generator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A numpy random generator to use for reproducibility</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tpot/evolvers/steady_state_evolver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="k">def</span><span class="w"> </span><span class="nf">ind_mutate</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">rng</span><span class="p">):</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Calls the ind.mutate method on the individual</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    Parameters</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    ----------</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">    ind : tpot.BaseIndividual</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        The individual to mutate</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">    rng : int or numpy.random.Generator</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        A numpy random generator to use for reproducibility</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">rng</span><span class="p">)</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>    <span class="k">return</span> <span class="n">ind</span><span class="o">.</span><span class="n">mutate</span><span class="p">(</span><span class="n">rng</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Developed by Pedro Ribeiro and others at Cedars Sinai Department of Computational Biomedicine
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["toc.integrate", "navigation.top", "search.suggest", "search.highlight"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>